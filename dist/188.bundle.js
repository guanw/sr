"use strict";(self.webpackChunksr=self.webpackChunksr||[]).push([[188],{5611:(e,t,n)=>{n.d(t,{I:()=>$,v:()=>T});var r=n(9113),o=n(3012),i=n(268);function s(e,t,n){if(e)for(const r in e){const o=t[r.toLocaleLowerCase()];if(o){let t=e[r];"header"===r&&(t=t.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&o.push(`//----${n}----//`),o.push(t)}else(0,i.R)(`${r} placement hook does not exist in shader`)}}const a=/\{\{(.*?)\}\}/g;function u(e){const t={};return(e.match(a)?.map((e=>e.replace(/[{()}]/g,"")))??[]).forEach((e=>{t[e]=[]})),t}function l(e,t){let n;const r=/@in\s+([^;]+);/g;for(;null!==(n=r.exec(e));)t.push(n[1])}function c(e,t,n=!1){const r=[];l(t,r),e.forEach((e=>{e.header&&l(e.header,r)}));const o=r;n&&o.sort();const i=o.map(((e,t)=>`       @location(${t}) ${e},`)).join("\n");let s=t.replace(/@in\s+[^;]+;\s*/g,"");return s=s.replace("{{in}}",`\n${i}\n`),s}function d(e,t){let n;const r=/@out\s+([^;]+);/g;for(;null!==(n=r.exec(e));)t.push(n[1])}function f(e,t){let n=e;for(const e in t){const r=t[e];n=r.join("\n").length?n.replace(`{{${e}}}`,`//-----${e} START-----//\n${r.join("\n")}\n//----${e} FINISH----//`):n.replace(`{{${e}}}`,"")}return n}const m=Object.create(null),h=new Map;let p=0;function g({template:e,bits:t}){const n=x(e,t);return m[n]||(m[n]=v(e.vertex,e.fragment,t)),m[n]}function x(e,t){return t.map((e=>(h.has(e)||h.set(e,p++),h.get(e)))).sort(((e,t)=>e-t)).join("-")+e.vertex+e.fragment}function v(e,t,n){const r=u(e),o=u(t);return n.forEach((e=>{s(e.vertex,r,e.name),s(e.fragment,o,e.name)})),{vertex:f(e,r),fragment:f(t,o)}}const b="\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n        \n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n       \n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n",y="\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n   \n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n        \n        {{start}}\n\n        var outColor:vec4<f32>;\n      \n        {{main}}\n        \n        return outColor * vColor;\n      };\n",P="\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n        \n        {{start}}\n        \n        vColor = vec4(1.);\n        \n        {{main}}\n        \n        vUV = uv;\n        \n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",_="\n   \n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n        \n        {{start}}\n\n        vec4 outColor;\n      \n        {{main}}\n        \n        finalColor = outColor * vColor;\n    }\n",w={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},M={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}};function T({bits:e,name:t}){const n=function({template:e,bits:t}){const n=x(e,t);if(m[n])return m[n];const{vertex:r,fragment:o}=function(e,t){const n=t.map((e=>e.vertex)).filter((e=>!!e)),r=t.map((e=>e.fragment)).filter((e=>!!e));let o=c(n,e.vertex,!0);return o=function(e,t){const n=[];d(t,n),e.forEach((e=>{e.header&&d(e.header,n)}));let r=0;const o=n.sort().map((e=>e.indexOf("builtin")>-1?e:`@location(${r++}) ${e}`)).join(",\n"),i=n.sort().map((e=>{return`       var ${t=e,t.replace(/@.*?\s+/g,"")};`;var t})).join("\n"),s=`return VSOutput(\n                ${n.sort().map((e=>` ${function(e){const t=/\b(\w+)\s*:/g.exec(e);return t?t[1]:""}(e)}`)).join(",\n")});`;let a=t.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`\n${o}\n`),a=a.replace("{{start}}",`\n${i}\n`),a=a.replace("{{return}}",`\n${s}\n`),a}(n,o),{vertex:o,fragment:c(r,e.fragment,!0)}}(e,t);return m[n]=v(r,o,t),m[n]}({template:{fragment:y,vertex:b},bits:[w,...e]});return o.B.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function $({bits:e,name:t}){return new r.M({name:t,...g({template:{vertex:P,fragment:_},bits:[M,...e]})})}},4459:(e,t,n)=>{n.d(t,{F:()=>r,a:()=>o});const r={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},o={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}}},4e3:(e,t,n)=>{n.d(t,{P:()=>c,_:()=>a});var r=n(6563);const o={};function i(e){const t=[];if(1===e)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<e;r++)t.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return t.join("\n")}function s(e){const t=[];if(1===e)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<e;n++)n===e-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join("\n")}function a(e){return o[e]||(o[e]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:`\n                @in @interpolate(flat) vTextureId: u32;\n    \n                ${i((0,r.a)())}\n            `,main:`\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n    \n                ${s((0,r.a)())}\n            `}}),o[e]}const u={};function l(e){const t=[];for(let n=0;n<e;n++)n>0&&t.push("else"),n<e-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`\toutColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join("\n")}function c(e){return u[e]||(u[e]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n              \n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:`\n                in float vTextureId;\n    \n                uniform sampler2D uTextures[${e}];\n              \n            `,main:`\n    \n                ${l((0,r.a)())}\n            `}}),u[e]}},2067:(e,t,n)=>{n.d(t,{Ls:()=>r,_Q:()=>o,mA:()=>i});const r={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},o={...r,vertex:{...r.vertex,header:r.vertex.header.replace("group(1)","group(2)")}},i={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},6665:(e,t,n)=>{n.d(t,{b:()=>r,m:()=>o});const r={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> \n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},o={name:"round-pixels-bit",vertex:{header:"   \n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {       \n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}}},9113:(e,t,n)=>{n.d(t,{M:()=>f});var r=n(7952),o=n(3804);let i;function s(){if(!i){i="mediump";const e=(0,o.W)();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);i=t.precision?"highp":"mediump"}}return i}const a={},u={},l={stripVersion:function(e,t){return t?e.replace("#version 300 es",""):e},ensurePrecision:function(e,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if("precision"!==e.substring(0,9)){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return"highp"===o&&"highp"!==r&&(o="mediump"),`precision ${o} float;\n${e}`}return"highp"!==r&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e},addProgramDefines:function(e,t,n){return t?e:n?`\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${e=e.replace("out vec4 finalColor;","")}\n        `:`\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${e}\n        `},setProgramName:function(e,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-");const r=n?a:u;return r[t+=n?"-fragment":"-vertex"]?(r[t]++,t+=`-${r[t]}`):r[t]=1,-1!==e.indexOf("#define SHADER_NAME")?e:`#define SHADER_NAME ${t}\n${e}`},insertVersion:function(e,t){return t?`#version 300 es\n${e}`:e}},c=Object.create(null),d=class e{constructor(t){const n=-1!==(t={...e.defaultOptions,...t}).fragment.indexOf("#version 300 es"),o={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:s()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let i=t.fragment,a=t.vertex;Object.keys(l).forEach((e=>{const t=o[e];i=l[e](i,t,!0),a=l[e](a,t,!1)})),this.fragment=i,this.vertex=a,this._key=(0,r.X)(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return c[n]||(c[n]=new e(t)),c[n]}};d.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let f=d},3012:(e,t,n)=>{n.d(t,{B:()=>l});var r=n(7952),o=n(8306);const i={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function s(e){const t=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,r=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,i=/(\w+)\s*:\s*([\w\<\>]+)/g,s=/struct\s+(\w+)/,a=e.match(/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g)?.map((e=>({group:parseInt(e.match(t)[1],10),binding:parseInt(e.match(n)[1],10),name:e.match(r)[2],isUniform:"<uniform>"===e.match(r)[1],type:e.match(o)[1]})));if(!a)return{groups:[],structs:[]};const u=e.match(/struct\s+(\w+)\s*{([^}]+)}/g)?.map((e=>{const t=e.match(s)[1],n=e.match(i).reduce(((e,t)=>{const[n,r]=t.split(":");return e[n.trim()]=r.trim(),e}),{});return n?{name:t,members:n}:null})).filter((({name:e})=>a.some((t=>t.type===e))))??[];return{groups:a,structs:u}}var a=(e=>(e[e.VERTEX=1]="VERTEX",e[e.FRAGMENT=2]="FRAGMENT",e[e.COMPUTE=4]="COMPUTE",e))(a||{});const u=Object.create(null);class l{constructor(e){this._layoutKey=0;const{fragment:t,vertex:n,layout:r,gpuLayout:o,name:i}=e;if(this.name=i,this.fragment=t,this.vertex=n,t.source===n.source){const e=s(t.source);this.structsAndGroups=e}else{const e=s(n.source),r=s(t.source);this.structsAndGroups=function(e,t){const n=new Set,r=new Set;return{structs:[...e.structs,...t.structs].filter((e=>!n.has(e.name)&&(n.add(e.name),!0))),groups:[...e.groups,...t.groups].filter((e=>{const t=`${e.name}-${e.binding}`;return!r.has(t)&&(r.add(t),!0)}))}}(e,r)}this.layout=r??function({groups:e}){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}(this.structsAndGroups),this.gpuLayout=o??function({groups:e}){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:a.VERTEX|a.FRAGMENT,buffer:{type:"uniform"}}):"sampler"===r.type?t[r.group].push({binding:r.binding,visibility:a.FRAGMENT,sampler:{type:"filtering"}}):"texture_2d"===r.type&&t[r.group].push({binding:r.binding,visibility:a.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}(this.structsAndGroups),this.autoAssignGlobalUniforms=!(void 0===this.layout[0]?.globalUniforms),this.autoAssignLocalUniforms=!(void 0===this.layout[1]?.localUniforms),this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,n=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=(0,r.X)(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=function({source:e,entryPoint:t}){const n={},r=e.indexOf(`fn ${t}`);if(-1!==r){const t=e.indexOf("->",r);if(-1!==t){const s=e.substring(r,t),a=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let u;for(;null!==(u=a.exec(s));){const e=i[u[3]]??"float32";n[u[2]]={location:parseInt(u[1],10),format:e,stride:(0,o.m)(e).stride,offset:0,instance:!1,start:0}}}}return n}(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const t=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return u[t]||(u[t]=new l(e)),u[t]}}},8306:(e,t,n)=>{n.d(t,{m:()=>o});const r={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function o(e){return r[e]??r.float32}},8475:(e,t,n)=>{n.d(t,{M:()=>l});var r=n(4486),o=n(9113),i=n(3513),s=n(3012),a=n(5099),u=n(5811);class l extends r.A{constructor(e){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:n,groups:r,resources:o,compatibleRenderers:s,groupMap:l}=e;this.gpuProgram=t,this.glProgram=n,void 0===s&&(s=0,t&&(s|=a.W.WEBGPU),n&&(s|=a.W.WEBGL)),this.compatibleRenderers=s;const c={};if(o||r||(o={}),o&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&r&&!l)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&r&&l)for(const e in l)for(const t in l[e]){const n=l[e][t];c[n]={group:e,binding:t,name:n}}else if(t&&r&&!l){const e=t.structsAndGroups.groups;l={},e.forEach((e=>{l[e.group]=l[e.group]||{},l[e.group][e.binding]=e.name,c[e.name]=e}))}else if(o){if(t){const e=t.structsAndGroups.groups;l={},e.forEach((e=>{l[e.group]=l[e.group]||{},l[e.group][e.binding]=e.name,c[e.name]=e}))}else{l={},r={99:new i.T},this._ownedBindGroups.push(r[99]);let e=0;for(const t in o)c[t]={group:99,binding:e,name:t},l[99]=l[99]||{},l[99][e]=t,e++}r={};for(const e in o){const t=e;let n=o[e];n.source||n._resourceType||(n=new u.k(n));const s=c[t];s&&(r[s.group]||(r[s.group]=new i.T,this._ownedBindGroups.push(r[s.group])),r[s.group].setResource(n,s.binding))}}this.groups=r,this._uniformBindMap=l,this.resources=this._buildResourceAccessor(r,c)}addResource(e,t,n){var r,o;(r=this._uniformBindMap)[t]||(r[t]={}),(o=this._uniformBindMap[t])[n]||(o[n]=e),this.groups[t]||(this.groups[t]=new i.T,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const n={};for(const r in t){const o=t[r];Object.defineProperty(n,o.name,{get:()=>e[o.group].getResource(o.binding),set(t){e[o.group].setResource(t,o.binding)}})}return n}destroy(e=!1){this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach((e=>{e.destroy()})),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:n,...r}=e;let i,a;return t&&(i=s.B.from(t)),n&&(a=o.M.from(n)),new l({gpuProgram:i,glProgram:a,...r})}}},5811:(e,t,n)=>{n.d(t,{k:()=>l});var r=n(133),o=n(7952);const i=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>"],s=i.reduce(((e,t)=>(e[t]=!0,e)),{});function a(e,t){switch(e){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const u=class e{constructor(t,n){this._touched=0,this.uid=(0,r.L)("uniform"),this._resourceType="uniformGroup",this._resourceId=(0,r.L)("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...e.defaultOptions,...n},this.uniformStructures=t;const u={};for(const e in t){const n=t[e];if(n.name=e,n.size=n.size??1,!s[n.type])throw new Error(`Uniform type ${n.type} is not supported. Supported uniform types are: ${i.join(", ")}`);n.value??(n.value=a(n.type,n.size)),u[e]=n.value}this.uniforms=u,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=(0,o.X)(Object.keys(u).map((e=>`${e}-${t[e].type}`)).join("-"),"uniform-group")}update(){this._dirtyId++}};u.defaultOptions={ubo:!1,isStatic:!1};let l=u},7547:(e,t,n)=>{n.d(t,{U:()=>i});const r={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8},o=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=r[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};o.default2d=o.for2d();let i=o},2437:(e,t,n)=>{n.d(t,{W:()=>a});var r=n(9939),o=n(6932),i=n(4492);let s=0;const a=new class{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,t,n){const r=new o.v({...this.textureOptions,width:e,height:t,resolution:1,antialias:n,autoGarbageCollect:!0});return new i.g({source:r,label:"texturePool_"+s++})}getOptimalTexture(e,t,n=1,o){let i=Math.ceil(e*n-1e-6),s=Math.ceil(t*n-1e-6);i=(0,r.U5)(i),s=(0,r.U5)(s);const a=(i<<17)+(s<<1)+(o?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let u=this._texturePool[a].pop();return u||(u=this.createTexture(i,s,o)),u.source._resolution=n,u.source.width=i/n,u.source.height=s/n,u.source.pixelWidth=i,u.source.pixelHeight=s,u.frame.x=0,u.frame.y=0,u.frame.width=e,u.frame.height=t,u.updateUvs(),this._poolKeyHash[u.uid]=a,u}getSameSizeTexture(e,t=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,t)}returnTexture(e){const t=this._poolKeyHash[e.uid];this._texturePool[t].push(e)}clear(e){if(e=!1!==e)for(const e in this._texturePool){const t=this._texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this._texturePool={}}}},7952:(e,t,n)=>{n.d(t,{X:()=>i});const r=Object.create(null),o=Object.create(null);function i(e,t){let n=o[e];return void 0===n&&(void 0===r[t]&&(r[t]=1),o[e]=n=r[t]++),n}},5099:(e,t,n)=>{n.d(t,{W:()=>r});var r=(e=>(e[e.WEBGL=1]="WEBGL",e[e.WEBGPU=2]="WEBGPU",e[e.BOTH=3]="BOTH",e))(r||{})},2760:(e,t,n)=>{function r(e,t,n){const r=(e>>24&255)/255;t[n++]=(255&e)/255*r,t[n++]=(e>>8&255)/255*r,t[n++]=(e>>16&255)/255*r,t[n++]=r}n.d(t,{V:()=>r})},8422:(e,t,n)=>{n.d(t,{K:()=>r});class r{constructor(){this.vertexSize=4,this.indexSize=6,this.location=0,this.batcher=null,this.batch=null,this.roundPixels=0}get blendMode(){return this.renderable.groupBlendMode}packAttributes(e,t,n,r){const o=this.renderable,i=this.texture,s=o.groupTransform,a=s.a,u=s.b,l=s.c,c=s.d,d=s.tx,f=s.ty,m=this.bounds,h=m.maxX,p=m.minX,g=m.maxY,x=m.minY,v=i.uvs,b=o.groupColorAlpha,y=r<<16|65535&this.roundPixels;e[n+0]=a*p+l*x+d,e[n+1]=c*x+u*p+f,e[n+2]=v.x0,e[n+3]=v.y0,t[n+4]=b,t[n+5]=y,e[n+6]=a*h+l*x+d,e[n+7]=c*x+u*h+f,e[n+8]=v.x1,e[n+9]=v.y1,t[n+10]=b,t[n+11]=y,e[n+12]=a*h+l*g+d,e[n+13]=c*g+u*h+f,e[n+14]=v.x2,e[n+15]=v.y2,t[n+16]=b,t[n+17]=y,e[n+18]=a*p+l*g+d,e[n+19]=c*g+u*p+f,e[n+20]=v.x3,e[n+21]=v.y3,t[n+22]=b,t[n+23]=y}packIndex(e,t,n){e[t]=n+0,e[t+1]=n+1,e[t+2]=n+2,e[t+3]=n+0,e[t+4]=n+2,e[t+5]=n+3}reset(){this.renderable=null,this.texture=null,this.batcher=null,this.batch=null,this.bounds=null}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLSixFQUM1Q1QsRUFBWWpVLEVBQVEsSUFBTW9WLEVBQUlVLEdBQzlCN0IsRUFBWWpVLEVBQVEsSUFBTW9WLEVBQUlXLEdBQzlCN0IsRUFBV2xVLEVBQVEsSUFBTXFWLEVBQ3pCbkIsRUFBV2xVLEVBQVEsSUFBTXVWLENBQzNCLENBQ0EsU0FBQVMsQ0FBVUMsRUFBYWpXLEVBQU9rVyxHQUM1QkQsRUFBWWpXLEdBQVNrVyxFQUFnQixFQUNyQ0QsRUFBWWpXLEVBQVEsR0FBS2tXLEVBQWdCLEVBQ3pDRCxFQUFZalcsRUFBUSxHQUFLa1csRUFBZ0IsRUFDekNELEVBQVlqVyxFQUFRLEdBQUtrVyxFQUFnQixFQUN6Q0QsRUFBWWpXLEVBQVEsR0FBS2tXLEVBQWdCLEVBQ3pDRCxFQUFZalcsRUFBUSxHQUFLa1csRUFBZ0IsQ0FDM0MsQ0FDQSxLQUFBQyxHQUNFM1IsS0FBS3NQLFdBQWEsS0FDbEJ0UCxLQUFLNkQsUUFBVSxLQUNmN0QsS0FBS21QLFFBQVUsS0FDZm5QLEtBQUtvUCxNQUFRLEtBQ2JwUCxLQUFLbVEsT0FBUyxJQUNoQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVyL3V0aWxzL2FkZEJpdHMubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci91dGlscy9jb21waWxlSG9va3MubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci91dGlscy9jb21waWxlSW5wdXRzLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvdXRpbHMvY29tcGlsZU91dHB1dHMubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlci91dGlscy9pbmplY3RCaXRzLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZXIvY29tcGlsZUhpZ2hTaGFkZXIubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9kZWZhdWx0UHJvZ3JhbVRlbXBsYXRlLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvZ2xvYmFsVW5pZm9ybXNCaXQubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9jb21waWxlSGlnaFNoYWRlclRvUHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2NvbG9yQml0Lm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9sb2NhbFVuaWZvcm1CaXQubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9nZXRNYXhGcmFnbWVudFByZWNpc2lvbi5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL3NldFByb2dyYW1OYW1lLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL3Byb2dyYW0vcHJlcHJvY2Vzc29ycy9zdHJpcFZlcnNpb24ubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL3Byb2dyYW0vcHJlcHJvY2Vzc29ycy9lbnN1cmVQcmVjaXNpb24ubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL3Byb2dyYW0vcHJlcHJvY2Vzc29ycy9hZGRQcm9ncmFtRGVmaW5lcy5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2luc2VydFZlcnNpb24ubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci91dGlscy9leHRyYWN0QXR0cmlidXRlc0Zyb21HcHVQcm9ncmFtLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvdXRpbHMvZXh0cmFjdFN0cnVjdEFuZEdyb3Vwcy5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL2NvbnN0Lm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL3V0aWxzL3JlbW92ZVN0cnVjdEFuZEdyb3VwRHVwbGljYXRlcy5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL3V0aWxzL2dlbmVyYXRlTGF5b3V0SGFzaC5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL3V0aWxzL2dlbmVyYXRlR3B1TGF5b3V0R3JvdXBzLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS91dGlscy9nZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdC5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL3R5cGVzLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvdXRpbHMvZ2V0RGVmYXVsdFVuaWZvcm1WYWx1ZS5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzIiwid2VicGFjazovL3NyLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3V0aWxzL2NyZWF0ZUlkRnJvbVN0cmluZy5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMiLCJ3ZWJwYWNrOi8vc3IvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyIsIndlYnBhY2s6Ly9zci8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gYWRkQml0cyhzcmNQYXJ0cywgcGFydHMsIG5hbWUpIHtcbiAgaWYgKHNyY1BhcnRzKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHNyY1BhcnRzKSB7XG4gICAgICBjb25zdCBpZCA9IGkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0c1tpZF07XG4gICAgICBpZiAocGFydCkge1xuICAgICAgICBsZXQgc2FuaXRpc2VkUGFydCA9IHNyY1BhcnRzW2ldO1xuICAgICAgICBpZiAoaSA9PT0gXCJoZWFkZXJcIikge1xuICAgICAgICAgIHNhbml0aXNlZFBhcnQgPSBzYW5pdGlzZWRQYXJ0LnJlcGxhY2UoL0BpblxccytbXjtdKztcXHMqL2csIFwiXCIpLnJlcGxhY2UoL0BvdXRcXHMrW147XSs7XFxzKi9nLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHBhcnQucHVzaChgLy8tLS0tJHtuYW1lfS0tLS0vL2ApO1xuICAgICAgICB9XG4gICAgICAgIHBhcnQucHVzaChzYW5pdGlzZWRQYXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm4oYCR7aX0gcGxhY2VtZW50IGhvb2sgZG9lcyBub3QgZXhpc3QgaW4gc2hhZGVyYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGFkZEJpdHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZEJpdHMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmaW5kSG9va3NSeCA9IC9cXHtcXHsoLio/KVxcfVxcfS9nO1xuZnVuY3Rpb24gY29tcGlsZUhvb2tzKHByb2dyYW1TcmMpIHtcbiAgY29uc3QgcGFydHMgPSB7fTtcbiAgY29uc3QgcGFydE1hdGNoZXMgPSBwcm9ncmFtU3JjLm1hdGNoKGZpbmRIb29rc1J4KT8ubWFwKChob29rKSA9PiBob29rLnJlcGxhY2UoL1t7KCl9XS9nLCBcIlwiKSkgPz8gW107XG4gIHBhcnRNYXRjaGVzLmZvckVhY2goKGhvb2spID0+IHtcbiAgICBwYXJ0c1tob29rXSA9IFtdO1xuICB9KTtcbiAgcmV0dXJuIHBhcnRzO1xufVxuXG5leHBvcnQgeyBjb21waWxlSG9va3MsIGZpbmRIb29rc1J4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21waWxlSG9va3MubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBleHRyYWN0SW5wdXRzKGZyYWdtZW50U291cmNlLCBvdXQpIHtcbiAgbGV0IG1hdGNoO1xuICBjb25zdCByZWdleCA9IC9AaW5cXHMrKFteO10rKTsvZztcbiAgd2hpbGUgKChtYXRjaCA9IHJlZ2V4LmV4ZWMoZnJhZ21lbnRTb3VyY2UpKSAhPT0gbnVsbCkge1xuICAgIG91dC5wdXNoKG1hdGNoWzFdKTtcbiAgfVxufVxuZnVuY3Rpb24gY29tcGlsZUlucHV0cyhmcmFnbWVudHMsIHRlbXBsYXRlLCBzb3J0ID0gZmFsc2UpIHtcbiAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICBleHRyYWN0SW5wdXRzKHRlbXBsYXRlLCByZXN1bHRzKTtcbiAgZnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgaWYgKGZyYWdtZW50LmhlYWRlcikge1xuICAgICAgZXh0cmFjdElucHV0cyhmcmFnbWVudC5oZWFkZXIsIHJlc3VsdHMpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IG1haW5JbnB1dCA9IHJlc3VsdHM7XG4gIGlmIChzb3J0KSB7XG4gICAgbWFpbklucHV0LnNvcnQoKTtcbiAgfVxuICBjb25zdCBmaW5hbFN0cmluZyA9IG1haW5JbnB1dC5tYXAoKGluVmFsdWUsIGkpID0+IGAgICAgICAgQGxvY2F0aW9uKCR7aX0pICR7aW5WYWx1ZX0sYCkuam9pbihcIlxcblwiKTtcbiAgbGV0IGNsZWFuZWRTdHJpbmcgPSB0ZW1wbGF0ZS5yZXBsYWNlKC9AaW5cXHMrW147XSs7XFxzKi9nLCBcIlwiKTtcbiAgY2xlYW5lZFN0cmluZyA9IGNsZWFuZWRTdHJpbmcucmVwbGFjZShcInt7aW59fVwiLCBgXG4ke2ZpbmFsU3RyaW5nfVxuYCk7XG4gIHJldHVybiBjbGVhbmVkU3RyaW5nO1xufVxuXG5leHBvcnQgeyBjb21waWxlSW5wdXRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21waWxlSW5wdXRzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZXh0cmFjdE91dHB1dHMoZnJhZ21lbnRTb3VyY2UsIG91dCkge1xuICBsZXQgbWF0Y2g7XG4gIGNvbnN0IHJlZ2V4ID0gL0BvdXRcXHMrKFteO10rKTsvZztcbiAgd2hpbGUgKChtYXRjaCA9IHJlZ2V4LmV4ZWMoZnJhZ21lbnRTb3VyY2UpKSAhPT0gbnVsbCkge1xuICAgIG91dC5wdXNoKG1hdGNoWzFdKTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdFZhcmlhYmxlTmFtZSh2YWx1ZSkge1xuICBjb25zdCByZWdleCA9IC9cXGIoXFx3KylcXHMqOi9nO1xuICBjb25zdCBtYXRjaCA9IHJlZ2V4LmV4ZWModmFsdWUpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IFwiXCI7XG59XG5mdW5jdGlvbiBzdHJpcFZhcmlhYmxlKHZhbHVlKSB7XG4gIGNvbnN0IHJlZ2V4ID0gL0AuKj9cXHMrL2c7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKHJlZ2V4LCBcIlwiKTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVPdXRwdXRzKGZyYWdtZW50cywgdGVtcGxhdGUpIHtcbiAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICBleHRyYWN0T3V0cHV0cyh0ZW1wbGF0ZSwgcmVzdWx0cyk7XG4gIGZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgIGlmIChmcmFnbWVudC5oZWFkZXIpIHtcbiAgICAgIGV4dHJhY3RPdXRwdXRzKGZyYWdtZW50LmhlYWRlciwgcmVzdWx0cyk7XG4gICAgfVxuICB9KTtcbiAgbGV0IGluZGV4ID0gMDtcbiAgY29uc3QgbWFpblN0cnVjdCA9IHJlc3VsdHMuc29ydCgpLm1hcCgoaW5WYWx1ZSkgPT4ge1xuICAgIGlmIChpblZhbHVlLmluZGV4T2YoXCJidWlsdGluXCIpID4gLTEpIHtcbiAgICAgIHJldHVybiBpblZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYEBsb2NhdGlvbigke2luZGV4Kyt9KSAke2luVmFsdWV9YDtcbiAgfSkuam9pbihcIixcXG5cIik7XG4gIGNvbnN0IG1haW5TdGFydCA9IHJlc3VsdHMuc29ydCgpLm1hcCgoaW5WYWx1ZSkgPT4gYCAgICAgICB2YXIgJHtzdHJpcFZhcmlhYmxlKGluVmFsdWUpfTtgKS5qb2luKFwiXFxuXCIpO1xuICBjb25zdCBtYWluRW5kID0gYHJldHVybiBWU091dHB1dChcbiAgICAgICAgICAgICAgICAke3Jlc3VsdHMuc29ydCgpLm1hcCgoaW5WYWx1ZSkgPT4gYCAke2V4dHJhY3RWYXJpYWJsZU5hbWUoaW5WYWx1ZSl9YCkuam9pbihcIixcXG5cIil9KTtgO1xuICBsZXQgY29tcGlsZWRDb2RlID0gdGVtcGxhdGUucmVwbGFjZSgvQG91dFxccytbXjtdKztcXHMqL2csIFwiXCIpO1xuICBjb21waWxlZENvZGUgPSBjb21waWxlZENvZGUucmVwbGFjZShcInt7c3RydWN0fX1cIiwgYFxuJHttYWluU3RydWN0fVxuYCk7XG4gIGNvbXBpbGVkQ29kZSA9IGNvbXBpbGVkQ29kZS5yZXBsYWNlKFwie3tzdGFydH19XCIsIGBcbiR7bWFpblN0YXJ0fVxuYCk7XG4gIGNvbXBpbGVkQ29kZSA9IGNvbXBpbGVkQ29kZS5yZXBsYWNlKFwie3tyZXR1cm59fVwiLCBgXG4ke21haW5FbmR9XG5gKTtcbiAgcmV0dXJuIGNvbXBpbGVkQ29kZTtcbn1cblxuZXhwb3J0IHsgY29tcGlsZU91dHB1dHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVPdXRwdXRzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gaW5qZWN0Qml0cyh0ZW1wbGF0ZVNyYywgZnJhZ21lbnRQYXJ0cykge1xuICBsZXQgb3V0ID0gdGVtcGxhdGVTcmM7XG4gIGZvciAoY29uc3QgaSBpbiBmcmFnbWVudFBhcnRzKSB7XG4gICAgY29uc3QgcGFydHMgPSBmcmFnbWVudFBhcnRzW2ldO1xuICAgIGNvbnN0IHRvSW5qZWN0ID0gcGFydHMuam9pbihcIlxcblwiKTtcbiAgICBpZiAodG9JbmplY3QubGVuZ3RoKSB7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShge3ske2l9fX1gLCBgLy8tLS0tLSR7aX0gU1RBUlQtLS0tLS8vXG4ke3BhcnRzLmpvaW4oXCJcXG5cIil9XG4vLy0tLS0ke2l9IEZJTklTSC0tLS0vL2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShge3ske2l9fX1gLCBcIlwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IHsgaW5qZWN0Qml0cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5qZWN0Qml0cy5tanMubWFwXG4iLCJpbXBvcnQgeyBhZGRCaXRzIH0gZnJvbSAnLi91dGlscy9hZGRCaXRzLm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSG9va3MgfSBmcm9tICcuL3V0aWxzL2NvbXBpbGVIb29rcy5tanMnO1xuaW1wb3J0IHsgY29tcGlsZUlucHV0cyB9IGZyb20gJy4vdXRpbHMvY29tcGlsZUlucHV0cy5tanMnO1xuaW1wb3J0IHsgY29tcGlsZU91dHB1dHMgfSBmcm9tICcuL3V0aWxzL2NvbXBpbGVPdXRwdXRzLm1qcyc7XG5pbXBvcnQgeyBpbmplY3RCaXRzIH0gZnJvbSAnLi91dGlscy9pbmplY3RCaXRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgY2FjaGVNYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGJpdENhY2hlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmxldCBDQUNIRV9VSUQgPSAwO1xuZnVuY3Rpb24gY29tcGlsZUhpZ2hTaGFkZXIoe1xuICB0ZW1wbGF0ZSxcbiAgYml0c1xufSkge1xuICBjb25zdCBjYWNoZUlkID0gZ2VuZXJhdGVDYWNoZUlkKHRlbXBsYXRlLCBiaXRzKTtcbiAgaWYgKGNhY2hlTWFwW2NhY2hlSWRdKVxuICAgIHJldHVybiBjYWNoZU1hcFtjYWNoZUlkXTtcbiAgY29uc3QgeyB2ZXJ0ZXgsIGZyYWdtZW50IH0gPSBjb21waWxlSW5wdXRzQW5kT3V0cHV0cyh0ZW1wbGF0ZSwgYml0cyk7XG4gIGNhY2hlTWFwW2NhY2hlSWRdID0gY29tcGlsZUJpdHModmVydGV4LCBmcmFnbWVudCwgYml0cyk7XG4gIHJldHVybiBjYWNoZU1hcFtjYWNoZUlkXTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVIaWdoU2hhZGVyR2woe1xuICB0ZW1wbGF0ZSxcbiAgYml0c1xufSkge1xuICBjb25zdCBjYWNoZUlkID0gZ2VuZXJhdGVDYWNoZUlkKHRlbXBsYXRlLCBiaXRzKTtcbiAgaWYgKGNhY2hlTWFwW2NhY2hlSWRdKVxuICAgIHJldHVybiBjYWNoZU1hcFtjYWNoZUlkXTtcbiAgY2FjaGVNYXBbY2FjaGVJZF0gPSBjb21waWxlQml0cyh0ZW1wbGF0ZS52ZXJ0ZXgsIHRlbXBsYXRlLmZyYWdtZW50LCBiaXRzKTtcbiAgcmV0dXJuIGNhY2hlTWFwW2NhY2hlSWRdO1xufVxuZnVuY3Rpb24gY29tcGlsZUlucHV0c0FuZE91dHB1dHModGVtcGxhdGUsIGJpdHMpIHtcbiAgY29uc3QgdmVydGV4RnJhZ21lbnRzID0gYml0cy5tYXAoKHNoYWRlckJpdCkgPT4gc2hhZGVyQml0LnZlcnRleCkuZmlsdGVyKCh2KSA9PiAhIXYpO1xuICBjb25zdCBmcmFnbWVudEZyYWdtZW50cyA9IGJpdHMubWFwKChzaGFkZXJCaXQpID0+IHNoYWRlckJpdC5mcmFnbWVudCkuZmlsdGVyKCh2KSA9PiAhIXYpO1xuICBsZXQgY29tcGlsZWRWZXJ0ZXggPSBjb21waWxlSW5wdXRzKHZlcnRleEZyYWdtZW50cywgdGVtcGxhdGUudmVydGV4LCB0cnVlKTtcbiAgY29tcGlsZWRWZXJ0ZXggPSBjb21waWxlT3V0cHV0cyh2ZXJ0ZXhGcmFnbWVudHMsIGNvbXBpbGVkVmVydGV4KTtcbiAgY29uc3QgY29tcGlsZWRGcmFnbWVudCA9IGNvbXBpbGVJbnB1dHMoZnJhZ21lbnRGcmFnbWVudHMsIHRlbXBsYXRlLmZyYWdtZW50LCB0cnVlKTtcbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXg6IGNvbXBpbGVkVmVydGV4LFxuICAgIGZyYWdtZW50OiBjb21waWxlZEZyYWdtZW50XG4gIH07XG59XG5mdW5jdGlvbiBnZW5lcmF0ZUNhY2hlSWQodGVtcGxhdGUsIGJpdHMpIHtcbiAgcmV0dXJuIGJpdHMubWFwKChoaWdoRnJhZ21lbnQpID0+IHtcbiAgICBpZiAoIWJpdENhY2hlTWFwLmhhcyhoaWdoRnJhZ21lbnQpKSB7XG4gICAgICBiaXRDYWNoZU1hcC5zZXQoaGlnaEZyYWdtZW50LCBDQUNIRV9VSUQrKyk7XG4gICAgfVxuICAgIHJldHVybiBiaXRDYWNoZU1hcC5nZXQoaGlnaEZyYWdtZW50KTtcbiAgfSkuc29ydCgoYSwgYikgPT4gYSAtIGIpLmpvaW4oXCItXCIpICsgdGVtcGxhdGUudmVydGV4ICsgdGVtcGxhdGUuZnJhZ21lbnQ7XG59XG5mdW5jdGlvbiBjb21waWxlQml0cyh2ZXJ0ZXgsIGZyYWdtZW50LCBiaXRzKSB7XG4gIGNvbnN0IHZlcnRleFBhcnRzID0gY29tcGlsZUhvb2tzKHZlcnRleCk7XG4gIGNvbnN0IGZyYWdtZW50UGFydHMgPSBjb21waWxlSG9va3MoZnJhZ21lbnQpO1xuICBiaXRzLmZvckVhY2goKHNoYWRlckJpdCkgPT4ge1xuICAgIGFkZEJpdHMoc2hhZGVyQml0LnZlcnRleCwgdmVydGV4UGFydHMsIHNoYWRlckJpdC5uYW1lKTtcbiAgICBhZGRCaXRzKHNoYWRlckJpdC5mcmFnbWVudCwgZnJhZ21lbnRQYXJ0cywgc2hhZGVyQml0Lm5hbWUpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB2ZXJ0ZXg6IGluamVjdEJpdHModmVydGV4LCB2ZXJ0ZXhQYXJ0cyksXG4gICAgZnJhZ21lbnQ6IGluamVjdEJpdHMoZnJhZ21lbnQsIGZyYWdtZW50UGFydHMpXG4gIH07XG59XG5cbmV4cG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyLCBjb21waWxlSGlnaFNoYWRlckdsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21waWxlSGlnaFNoYWRlci5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHZlcnRleEdQVVRlbXBsYXRlID0gKFxuICAvKiB3Z3NsICovXG4gIGBcbiAgICBAaW4gYVBvc2l0aW9uOiB2ZWMyPGYzMj47XG4gICAgQGluIGFVVjogdmVjMjxmMzI+O1xuXG4gICAgQG91dCBAYnVpbHRpbihwb3NpdGlvbikgdlBvc2l0aW9uOiB2ZWM0PGYzMj47XG4gICAgQG91dCB2VVYgOiB2ZWMyPGYzMj47XG4gICAgQG91dCB2Q29sb3IgOiB2ZWM0PGYzMj47XG5cbiAgICB7e2hlYWRlcn19XG5cbiAgICBzdHJ1Y3QgVlNPdXRwdXQge1xuICAgICAgICB7e3N0cnVjdH19XG4gICAgfTtcblxuICAgIEB2ZXJ0ZXhcbiAgICBmbiBtYWluKCB7e2lufX0gKSAtPiBWU091dHB1dCB7XG5cbiAgICAgICAgdmFyIHdvcmxkVHJhbnNmb3JtTWF0cml4ID0gZ2xvYmFsVW5pZm9ybXMudVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICB2YXIgbW9kZWxNYXRyaXggPSBtYXQzeDM8ZjMyPihcbiAgICAgICAgICAgIDEuMCwgMC4wLCAwLjAsXG4gICAgICAgICAgICAwLjAsIDEuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAwLjAsIDEuMFxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbjtcbiAgICAgICAgdmFyIHV2ID0gYVVWO1xuXG4gICAgICAgIHt7c3RhcnR9fVxuICAgICAgICBcbiAgICAgICAgdkNvbG9yID0gdmVjNDxmMzI+KDEuLCAxLiwgMS4sIDEuKTtcblxuICAgICAgICB7e21haW59fVxuXG4gICAgICAgIHZVViA9IHV2O1xuXG4gICAgICAgIHZhciBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4ID0gZ2xvYmFsVW5pZm9ybXMudVByb2plY3Rpb25NYXRyaXggKiB3b3JsZFRyYW5zZm9ybU1hdHJpeCAqIG1vZGVsTWF0cml4O1xuXG4gICAgICAgIHZQb3NpdGlvbiA9ICB2ZWM0PGYzMj4oKG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggKiAgdmVjMzxmMzI+KHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgICAgIFxuICAgICAgICB2Q29sb3IgKj0gZ2xvYmFsVW5pZm9ybXMudVdvcmxkQ29sb3JBbHBoYTtcblxuICAgICAgICB7e2VuZH19XG5cbiAgICAgICAge3tyZXR1cm59fVxuICAgIH07XG5gXG4pO1xuY29uc3QgZnJhZ21lbnRHUFVUZW1wbGF0ZSA9IChcbiAgLyogd2dzbCAqL1xuICBgXG4gICAgQGluIHZVViA6IHZlYzI8ZjMyPjtcbiAgICBAaW4gdkNvbG9yIDogdmVjNDxmMzI+O1xuICAgXG4gICAge3toZWFkZXJ9fVxuXG4gICAgQGZyYWdtZW50XG4gICAgZm4gbWFpbihcbiAgICAgICAge3tpbn19XG4gICAgICApIC0+IEBsb2NhdGlvbigwKSB2ZWM0PGYzMj4ge1xuICAgICAgICBcbiAgICAgICAge3tzdGFydH19XG5cbiAgICAgICAgdmFyIG91dENvbG9yOnZlYzQ8ZjMyPjtcbiAgICAgIFxuICAgICAgICB7e21haW59fVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG91dENvbG9yICogdkNvbG9yO1xuICAgICAgfTtcbmBcbik7XG5jb25zdCB2ZXJ0ZXhHbFRlbXBsYXRlID0gKFxuICAvKiBnbHNsICovXG4gIGBcbiAgICBpbiB2ZWMyIGFQb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFVVjtcblxuICAgIG91dCB2ZWM0IHZDb2xvcjtcbiAgICBvdXQgdmVjMiB2VVY7XG5cbiAgICB7e2hlYWRlcn19XG5cbiAgICB2b2lkIG1haW4odm9pZCl7XG5cbiAgICAgICAgbWF0MyB3b3JsZFRyYW5zZm9ybU1hdHJpeCA9IHVXb3JsZFRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgbWF0MyBtb2RlbE1hdHJpeCA9IG1hdDMoXG4gICAgICAgICAgICAxLjAsIDAuMCwgMC4wLFxuICAgICAgICAgICAgMC4wLCAxLjAsIDAuMCxcbiAgICAgICAgICAgIDAuMCwgMC4wLCAxLjBcbiAgICAgICAgICApO1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVBvc2l0aW9uO1xuICAgICAgICB2ZWMyIHV2ID0gYVVWO1xuICAgICAgICBcbiAgICAgICAge3tzdGFydH19XG4gICAgICAgIFxuICAgICAgICB2Q29sb3IgPSB2ZWM0KDEuKTtcbiAgICAgICAgXG4gICAgICAgIHt7bWFpbn19XG4gICAgICAgIFxuICAgICAgICB2VVYgPSB1djtcbiAgICAgICAgXG4gICAgICAgIG1hdDMgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCA9IHVQcm9qZWN0aW9uTWF0cml4ICogd29ybGRUcmFuc2Zvcm1NYXRyaXggKiBtb2RlbE1hdHJpeDtcblxuICAgICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuXG4gICAgICAgIHZDb2xvciAqPSB1V29ybGRDb2xvckFscGhhO1xuXG4gICAgICAgIHt7ZW5kfX1cbiAgICB9XG5gXG4pO1xuY29uc3QgZnJhZ21lbnRHbFRlbXBsYXRlID0gKFxuICAvKiBnbHNsICovXG4gIGBcbiAgIFxuICAgIGluIHZlYzQgdkNvbG9yO1xuICAgIGluIHZlYzIgdlVWO1xuXG4gICAgb3V0IHZlYzQgZmluYWxDb2xvcjtcblxuICAgIHt7aGVhZGVyfX1cblxuICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICAgIFxuICAgICAgICB7e3N0YXJ0fX1cblxuICAgICAgICB2ZWM0IG91dENvbG9yO1xuICAgICAgXG4gICAgICAgIHt7bWFpbn19XG4gICAgICAgIFxuICAgICAgICBmaW5hbENvbG9yID0gb3V0Q29sb3IgKiB2Q29sb3I7XG4gICAgfVxuYFxuKTtcblxuZXhwb3J0IHsgZnJhZ21lbnRHUFVUZW1wbGF0ZSwgZnJhZ21lbnRHbFRlbXBsYXRlLCB2ZXJ0ZXhHUFVUZW1wbGF0ZSwgdmVydGV4R2xUZW1wbGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdFByb2dyYW1UZW1wbGF0ZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGdsb2JhbFVuaWZvcm1zQml0ID0ge1xuICBuYW1lOiBcImdsb2JhbC11bmlmb3Jtcy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgIHN0cnVjdCBHbG9iYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICB1UHJvamVjdGlvbk1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgIHVXb3JsZFRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgIHVXb3JsZENvbG9yQWxwaGE6IHZlYzQ8ZjMyPixcbiAgICAgICAgICAgIHVSZXNvbHV0aW9uOiB2ZWMyPGYzMj4sXG4gICAgICAgIH1cblxuICAgICAgICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdsb2JhbFVuaWZvcm1zIDogR2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBnbG9iYWxVbmlmb3Jtc1VCT0JpdEdsID0ge1xuICBuYW1lOiBcImdsb2JhbC11bmlmb3Jtcy11Ym8tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgIHVuaWZvcm0gZ2xvYmFsVW5pZm9ybXMge1xuICAgICAgICAgICAgbWF0MyB1UHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgICAgIG1hdDMgdVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdmVjNCB1V29ybGRDb2xvckFscGhhO1xuICAgICAgICAgICAgdmVjMiB1UmVzb2x1dGlvbjtcbiAgICAgICAgICB9O1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgZ2xvYmFsVW5pZm9ybXNCaXRHbCA9IHtcbiAgbmFtZTogXCJnbG9iYWwtdW5pZm9ybXMtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgIHVuaWZvcm0gbWF0MyB1UHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgICB1bmlmb3JtIG1hdDMgdVdvcmxkVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgIHVuaWZvcm0gdmVjNCB1V29ybGRDb2xvckFscGhhO1xuICAgICAgICAgIHVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgZ2xvYmFsVW5pZm9ybXNCaXQsIGdsb2JhbFVuaWZvcm1zQml0R2wsIGdsb2JhbFVuaWZvcm1zVUJPQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbFVuaWZvcm1zQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXIsIGNvbXBpbGVIaWdoU2hhZGVyR2wgfSBmcm9tICcuL2NvbXBpbGVyL2NvbXBpbGVIaWdoU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBmcmFnbWVudEdQVVRlbXBsYXRlLCB2ZXJ0ZXhHUFVUZW1wbGF0ZSwgdmVydGV4R2xUZW1wbGF0ZSwgZnJhZ21lbnRHbFRlbXBsYXRlIH0gZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbVRlbXBsYXRlLm1qcyc7XG5pbXBvcnQgeyBnbG9iYWxVbmlmb3Jtc0JpdCwgZ2xvYmFsVW5pZm9ybXNCaXRHbCB9IGZyb20gJy4vc2hhZGVyLWJpdHMvZ2xvYmFsVW5pZm9ybXNCaXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0oeyBiaXRzLCBuYW1lIH0pIHtcbiAgY29uc3Qgc291cmNlID0gY29tcGlsZUhpZ2hTaGFkZXIoe1xuICAgIHRlbXBsYXRlOiB7XG4gICAgICBmcmFnbWVudDogZnJhZ21lbnRHUFVUZW1wbGF0ZSxcbiAgICAgIHZlcnRleDogdmVydGV4R1BVVGVtcGxhdGVcbiAgICB9LFxuICAgIGJpdHM6IFtcbiAgICAgIGdsb2JhbFVuaWZvcm1zQml0LFxuICAgICAgLi4uYml0c1xuICAgIF1cbiAgfSk7XG4gIHJldHVybiBHcHVQcm9ncmFtLmZyb20oe1xuICAgIG5hbWUsXG4gICAgdmVydGV4OiB7XG4gICAgICBzb3VyY2U6IHNvdXJjZS52ZXJ0ZXgsXG4gICAgICBlbnRyeVBvaW50OiBcIm1haW5cIlxuICAgIH0sXG4gICAgZnJhZ21lbnQ6IHtcbiAgICAgIHNvdXJjZTogc291cmNlLmZyYWdtZW50LFxuICAgICAgZW50cnlQb2ludDogXCJtYWluXCJcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0oeyBiaXRzLCBuYW1lIH0pIHtcbiAgcmV0dXJuIG5ldyBHbFByb2dyYW0oe1xuICAgIG5hbWUsXG4gICAgLi4uY29tcGlsZUhpZ2hTaGFkZXJHbCh7XG4gICAgICB0ZW1wbGF0ZToge1xuICAgICAgICB2ZXJ0ZXg6IHZlcnRleEdsVGVtcGxhdGUsXG4gICAgICAgIGZyYWdtZW50OiBmcmFnbWVudEdsVGVtcGxhdGVcbiAgICAgIH0sXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGdsb2JhbFVuaWZvcm1zQml0R2wsXG4gICAgICAgIC4uLmJpdHNcbiAgICAgIF1cbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0sIGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjb2xvckJpdCA9IHtcbiAgbmFtZTogXCJjb2xvci1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBAaW4gYUNvbG9yOiB2ZWM0PGYzMj47XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSB2ZWM0PGYzMj4oYUNvbG9yLnJnYiAqIGFDb2xvci5hLCBhQ29sb3IuYSk7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBjb2xvckJpdEdsID0ge1xuICBuYW1lOiBcImNvbG9yLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGluIHZlYzQgYUNvbG9yO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgY29sb3JCaXQsIGNvbG9yQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IGdldE1heFRleHR1cmVzUGVyQmF0Y2ggfSBmcm9tICcuLi8uLi9iYXRjaGVyL2dsL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZXh0dXJlQmF0Y2hCaXRHcHVDYWNoZSA9IHt9O1xuZnVuY3Rpb24gZ2VuZXJhdGVCaW5kaW5nU3JjKG1heFRleHR1cmVzKSB7XG4gIGNvbnN0IHNyYyA9IFtdO1xuICBpZiAobWF4VGV4dHVyZXMgPT09IDEpIHtcbiAgICBzcmMucHVzaChcIkBncm91cCgxKSBAYmluZGluZygwKSB2YXIgdGV4dHVyZVNvdXJjZTE6IHRleHR1cmVfMmQ8ZjMyPjtcIik7XG4gICAgc3JjLnB1c2goXCJAZ3JvdXAoMSkgQGJpbmRpbmcoMSkgdmFyIHRleHR1cmVTYW1wbGVyMTogc2FtcGxlcjtcIik7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGJpbmRpbmdJbmRleCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICBzcmMucHVzaChgQGdyb3VwKDEpIEBiaW5kaW5nKCR7YmluZGluZ0luZGV4Kyt9KSB2YXIgdGV4dHVyZVNvdXJjZSR7aSArIDF9OiB0ZXh0dXJlXzJkPGYzMj47YCk7XG4gICAgICBzcmMucHVzaChgQGdyb3VwKDEpIEBiaW5kaW5nKCR7YmluZGluZ0luZGV4Kyt9KSB2YXIgdGV4dHVyZVNhbXBsZXIke2kgKyAxfTogc2FtcGxlcjtgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNyYy5qb2luKFwiXFxuXCIpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpIHtcbiAgY29uc3Qgc3JjID0gW107XG4gIGlmIChtYXhUZXh0dXJlcyA9PT0gMSkge1xuICAgIHNyYy5wdXNoKFwib3V0Q29sb3IgPSB0ZXh0dXJlU2FtcGxlR3JhZCh0ZXh0dXJlU291cmNlMSwgdGV4dHVyZVNhbXBsZXIxLCB2VVYsIHV2RHgsIHV2RHkpO1wiKTtcbiAgfSBlbHNlIHtcbiAgICBzcmMucHVzaChcInN3aXRjaCB2VGV4dHVyZUlkIHtcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICBpZiAoaSA9PT0gbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgIHNyYy5wdXNoKGAgIGRlZmF1bHQ6e2ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3JjLnB1c2goYCAgY2FzZSAke2l9OntgKTtcbiAgICAgIH1cbiAgICAgIHNyYy5wdXNoKGAgICAgICBvdXRDb2xvciA9IHRleHR1cmVTYW1wbGVHcmFkKHRleHR1cmVTb3VyY2Uke2kgKyAxfSwgdGV4dHVyZVNhbXBsZXIke2kgKyAxfSwgdlVWLCB1dkR4LCB1dkR5KTtgKTtcbiAgICAgIHNyYy5wdXNoKGAgICAgICBicmVhazt9YCk7XG4gICAgfVxuICAgIHNyYy5wdXNoKGB9YCk7XG4gIH1cbiAgcmV0dXJuIHNyYy5qb2luKFwiXFxuXCIpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQobWF4VGV4dHVyZXMpIHtcbiAgaWYgKCF0ZXh0dXJlQmF0Y2hCaXRHcHVDYWNoZVttYXhUZXh0dXJlc10pIHtcbiAgICB0ZXh0dXJlQmF0Y2hCaXRHcHVDYWNoZVttYXhUZXh0dXJlc10gPSB7XG4gICAgICBuYW1lOiBcInRleHR1cmUtYmF0Y2gtYml0XCIsXG4gICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgaGVhZGVyOiBgXG4gICAgICAgICAgICAgICAgQGluIGFUZXh0dXJlSWRBbmRSb3VuZDogdmVjMjx1MzI+O1xuICAgICAgICAgICAgICAgIEBvdXQgQGludGVycG9sYXRlKGZsYXQpIHZUZXh0dXJlSWQgOiB1MzI7XG4gICAgICAgICAgICBgLFxuICAgICAgICBtYWluOiBgXG4gICAgICAgICAgICAgICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWRBbmRSb3VuZC55O1xuICAgICAgICAgICAgYCxcbiAgICAgICAgZW5kOiBgXG4gICAgICAgICAgICAgICAgaWYoYVRleHR1cmVJZEFuZFJvdW5kLnggPT0gMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZQb3NpdGlvbiA9IHZlYzQ8ZjMyPihyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgXG4gICAgICB9LFxuICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgaGVhZGVyOiBgXG4gICAgICAgICAgICAgICAgQGluIEBpbnRlcnBvbGF0ZShmbGF0KSB2VGV4dHVyZUlkOiB1MzI7XG4gICAgXG4gICAgICAgICAgICAgICAgJHtnZW5lcmF0ZUJpbmRpbmdTcmMoZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCgpKX1cbiAgICAgICAgICAgIGAsXG4gICAgICAgIG1haW46IGBcbiAgICAgICAgICAgICAgICB2YXIgdXZEeCA9IGRwZHgodlVWKTtcbiAgICAgICAgICAgICAgICB2YXIgdXZEeSA9IGRwZHkodlVWKTtcbiAgICBcbiAgICAgICAgICAgICAgICAke2dlbmVyYXRlU2FtcGxlU3JjKGdldE1heFRleHR1cmVzUGVyQmF0Y2goKSl9XG4gICAgICAgICAgICBgXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdGV4dHVyZUJhdGNoQml0R3B1Q2FjaGVbbWF4VGV4dHVyZXNdO1xufVxuY29uc3QgdGV4dHVyZUJhdGNoQml0R2xDYWNoZSA9IHt9O1xuZnVuY3Rpb24gZ2VuZXJhdGVTYW1wbGVHbFNyYyhtYXhUZXh0dXJlcykge1xuICBjb25zdCBzcmMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgaWYgKGkgPiAwKSB7XG4gICAgICBzcmMucHVzaChcImVsc2VcIik7XG4gICAgfVxuICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICBzcmMucHVzaChgaWYodlRleHR1cmVJZCA8ICR7aX0uNSlgKTtcbiAgICB9XG4gICAgc3JjLnB1c2goXCJ7XCIpO1xuICAgIHNyYy5wdXNoKGBcdG91dENvbG9yID0gdGV4dHVyZSh1VGV4dHVyZXNbJHtpfV0sIHZVVik7YCk7XG4gICAgc3JjLnB1c2goXCJ9XCIpO1xuICB9XG4gIHJldHVybiBzcmMuam9pbihcIlxcblwiKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wobWF4VGV4dHVyZXMpIHtcbiAgaWYgKCF0ZXh0dXJlQmF0Y2hCaXRHbENhY2hlW21heFRleHR1cmVzXSkge1xuICAgIHRleHR1cmVCYXRjaEJpdEdsQ2FjaGVbbWF4VGV4dHVyZXNdID0ge1xuICAgICAgbmFtZTogXCJ0ZXh0dXJlLWJhdGNoLWJpdFwiLFxuICAgICAgdmVydGV4OiB7XG4gICAgICAgIGhlYWRlcjogYFxuICAgICAgICAgICAgICAgIGluIHZlYzIgYVRleHR1cmVJZEFuZFJvdW5kO1xuICAgICAgICAgICAgICAgIG91dCBmbG9hdCB2VGV4dHVyZUlkO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGAsXG4gICAgICAgIG1haW46IGBcbiAgICAgICAgICAgICAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZEFuZFJvdW5kLnk7XG4gICAgICAgICAgICBgLFxuICAgICAgICBlbmQ6IGBcbiAgICAgICAgICAgICAgICBpZihhVGV4dHVyZUlkQW5kUm91bmQueCA9PSAxLilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgXG4gICAgICB9LFxuICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgaGVhZGVyOiBgXG4gICAgICAgICAgICAgICAgaW4gZmxvYXQgdlRleHR1cmVJZDtcbiAgICBcbiAgICAgICAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZXNbJHttYXhUZXh0dXJlc31dO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGAsXG4gICAgICAgIG1haW46IGBcbiAgICBcbiAgICAgICAgICAgICAgICAke2dlbmVyYXRlU2FtcGxlR2xTcmMoZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCgpKX1cbiAgICAgICAgICAgIGBcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB0ZXh0dXJlQmF0Y2hCaXRHbENhY2hlW21heFRleHR1cmVzXTtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQsIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlVGV4dHVyZUJhdGNoQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbG9jYWxVbmlmb3JtQml0ID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICBzdHJ1Y3QgTG9jYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q29sb3I6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVSb3VuZDpmMzIsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgxKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gbG9jYWxVbmlmb3JtcyA6IExvY2FsVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSBsb2NhbFVuaWZvcm1zLnVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ICo9IGxvY2FsVW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZihsb2NhbFVuaWZvcm1zLnVSb3VuZCA9PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZQb3NpdGlvbiA9IHZlYzQocm91bmRQaXhlbHModlBvc2l0aW9uLnh5LCBnbG9iYWxVbmlmb3Jtcy51UmVzb2x1dGlvbiksIHZQb3NpdGlvbi56dyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgPSB7XG4gIC4uLmxvY2FsVW5pZm9ybUJpdCxcbiAgdmVydGV4OiB7XG4gICAgLi4ubG9jYWxVbmlmb3JtQml0LnZlcnRleCxcbiAgICAvLyByZXBsYWNlIHRoZSBncm91cCFcbiAgICBoZWFkZXI6IGxvY2FsVW5pZm9ybUJpdC52ZXJ0ZXguaGVhZGVyLnJlcGxhY2UoXCJncm91cCgxKVwiLCBcImdyb3VwKDIpXCIpXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1CaXRHbCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzQgdUNvbG9yO1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1Um91bmQ7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSB1Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCA9IHVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYodVJvdW5kID09IDEuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgbG9jYWxVbmlmb3JtQml0LCBsb2NhbFVuaWZvcm1CaXRHbCwgbG9jYWxVbmlmb3JtQml0R3JvdXAyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbFVuaWZvcm1CaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCByb3VuZFBpeGVsc0JpdCA9IHtcbiAgbmFtZTogXCJyb3VuZC1waXhlbHMtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgZm4gcm91bmRQaXhlbHMocG9zaXRpb246IHZlYzI8ZjMyPiwgdGFyZ2V0U2l6ZTogdmVjMjxmMzI+KSAtPiB2ZWMyPGYzMj4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChmbG9vcigoKHBvc2l0aW9uICogMC41ICsgMC41KSAqIHRhcmdldFNpemUpICsgMC41KSAvIHRhcmdldFNpemUpICogMi4wIC0gMS4wO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3Qgcm91bmRQaXhlbHNCaXRHbCA9IHtcbiAgbmFtZTogXCJyb3VuZC1waXhlbHMtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYCAgIFxuICAgICAgICAgICAgdmVjMiByb3VuZFBpeGVscyh2ZWMyIHBvc2l0aW9uLCB2ZWMyIHRhcmdldFNpemUpXG4gICAgICAgICAgICB7ICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiAoZmxvb3IoKChwb3NpdGlvbiAqIDAuNSArIDAuNSkgKiB0YXJnZXRTaXplKSArIDAuNSkgLyB0YXJnZXRTaXplKSAqIDIuMCAtIDEuMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgcm91bmRQaXhlbHNCaXQsIHJvdW5kUGl4ZWxzQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdW5kUGl4ZWxzQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IGdldFRlc3RDb250ZXh0IH0gZnJvbSAnLi9nZXRUZXN0Q29udGV4dC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBtYXhGcmFnbWVudFByZWNpc2lvbjtcbmZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkge1xuICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKSB7XG4gICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBcIm1lZGl1bXBcIjtcbiAgICBjb25zdCBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG4gICAgaWYgKGdsKSB7XG4gICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gc2hhZGVyRnJhZ21lbnQucHJlY2lzaW9uID8gXCJoaWdocFwiIDogXCJtZWRpdW1wXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cblxuZXhwb3J0IHsgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1heEZyYWdtZW50UHJlY2lzaW9uLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZnJhZ21lbnROYW1lQ2FjaGUgPSB7fTtcbmNvbnN0IFZlcnRleE5hbWVDYWNoZSA9IHt9O1xuZnVuY3Rpb24gc2V0UHJvZ3JhbU5hbWUoc3JjLCB7IG5hbWUgPSBgcGl4aS1wcm9ncmFtYCB9LCBpc0ZyYWdtZW50ID0gdHJ1ZSkge1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcbiAgbmFtZSArPSBpc0ZyYWdtZW50ID8gXCItZnJhZ21lbnRcIiA6IFwiLXZlcnRleFwiO1xuICBjb25zdCBuYW1lQ2FjaGUgPSBpc0ZyYWdtZW50ID8gZnJhZ21lbnROYW1lQ2FjaGUgOiBWZXJ0ZXhOYW1lQ2FjaGU7XG4gIGlmIChuYW1lQ2FjaGVbbmFtZV0pIHtcbiAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICBuYW1lICs9IGAtJHtuYW1lQ2FjaGVbbmFtZV19YDtcbiAgfSBlbHNlIHtcbiAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICB9XG4gIGlmIChzcmMuaW5kZXhPZihcIiNkZWZpbmUgU0hBREVSX05BTUVcIikgIT09IC0xKVxuICAgIHJldHVybiBzcmM7XG4gIGNvbnN0IHNoYWRlck5hbWUgPSBgI2RlZmluZSBTSEFERVJfTkFNRSAke25hbWV9YDtcbiAgcmV0dXJuIGAke3NoYWRlck5hbWV9XG4ke3NyY31gO1xufVxuXG5leHBvcnQgeyBzZXRQcm9ncmFtTmFtZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0UHJvZ3JhbU5hbWUubWpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlSWRGcm9tU3RyaW5nIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzL2NyZWF0ZUlkRnJvbVN0cmluZy5tanMnO1xuaW1wb3J0IHsgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24gfSBmcm9tICcuL3Byb2dyYW0vZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24ubWpzJztcbmltcG9ydCB7IGFkZFByb2dyYW1EZWZpbmVzIH0gZnJvbSAnLi9wcm9ncmFtL3ByZXByb2Nlc3NvcnMvYWRkUHJvZ3JhbURlZmluZXMubWpzJztcbmltcG9ydCB7IGVuc3VyZVByZWNpc2lvbiB9IGZyb20gJy4vcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2Vuc3VyZVByZWNpc2lvbi5tanMnO1xuaW1wb3J0IHsgaW5zZXJ0VmVyc2lvbiB9IGZyb20gJy4vcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL2luc2VydFZlcnNpb24ubWpzJztcbmltcG9ydCB7IHNldFByb2dyYW1OYW1lIH0gZnJvbSAnLi9wcm9ncmFtL3ByZXByb2Nlc3NvcnMvc2V0UHJvZ3JhbU5hbWUubWpzJztcbmltcG9ydCB7IHN0cmlwVmVyc2lvbiB9IGZyb20gJy4vcHJvZ3JhbS9wcmVwcm9jZXNzb3JzL3N0cmlwVmVyc2lvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHByb2Nlc3NlcyA9IHtcbiAgLy8gc3RyaXBzIGFueSB2ZXJzaW9uIGhlYWRlcnMuLlxuICBzdHJpcFZlcnNpb24sXG4gIC8vIGFkZHMgcHJlY2lzaW9uIHN0cmluZyBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gIGVuc3VyZVByZWNpc2lvbixcbiAgLy8gYWRkIHNvbWUgZGVmaW5lcyBpZiBXZWJHTDEgdG8gbWFrZSBpdCBtb3JlIGNvbXBhdGlibGUgd2l0aCBXZWJHTDIgc2hhZGVyc1xuICBhZGRQcm9ncmFtRGVmaW5lcyxcbiAgLy8gYWRkIHRoZSBwcm9ncmFtIG5hbWUgdG8gdGhlIHNoYWRlclxuICBzZXRQcm9ncmFtTmFtZSxcbiAgLy8gYWRkIHRoZSB2ZXJzaW9uIHN0cmluZyB0byB0aGUgc2hhZGVyIGhlYWRlclxuICBpbnNlcnRWZXJzaW9uXG59O1xuY29uc3QgcHJvZ3JhbUNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBfR2xQcm9ncmFtID0gY2xhc3MgX0dsUHJvZ3JhbSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2hpbnkgbmV3IEdsUHJvZ3JhbS4gVXNlZCBieSBXZWJHTCByZW5kZXJlci5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIHByb2dyYW0uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0dsUHJvZ3JhbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGlzRVMzMDAgPSBvcHRpb25zLmZyYWdtZW50LmluZGV4T2YoXCIjdmVyc2lvbiAzMDAgZXNcIikgIT09IC0xO1xuICAgIGNvbnN0IHByZXByb2Nlc3Nvck9wdGlvbnMgPSB7XG4gICAgICBzdHJpcFZlcnNpb246IGlzRVMzMDAsXG4gICAgICBlbnN1cmVQcmVjaXNpb246IHtcbiAgICAgICAgcmVxdWVzdGVkRnJhZ21lbnRQcmVjaXNpb246IG9wdGlvbnMucHJlZmVycmVkRnJhZ21lbnRQcmVjaXNpb24sXG4gICAgICAgIHJlcXVlc3RlZFZlcnRleFByZWNpc2lvbjogb3B0aW9ucy5wcmVmZXJyZWRWZXJ0ZXhQcmVjaXNpb24sXG4gICAgICAgIG1heFN1cHBvcnRlZFZlcnRleFByZWNpc2lvbjogXCJoaWdocFwiLFxuICAgICAgICBtYXhTdXBwb3J0ZWRGcmFnbWVudFByZWNpc2lvbjogZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKVxuICAgICAgfSxcbiAgICAgIHNldFByb2dyYW1OYW1lOiB7XG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZVxuICAgICAgfSxcbiAgICAgIGFkZFByb2dyYW1EZWZpbmVzOiBpc0VTMzAwLFxuICAgICAgaW5zZXJ0VmVyc2lvbjogaXNFUzMwMFxuICAgIH07XG4gICAgbGV0IGZyYWdtZW50ID0gb3B0aW9ucy5mcmFnbWVudDtcbiAgICBsZXQgdmVydGV4ID0gb3B0aW9ucy52ZXJ0ZXg7XG4gICAgT2JqZWN0LmtleXMocHJvY2Vzc2VzKS5mb3JFYWNoKChwcm9jZXNzS2V5KSA9PiB7XG4gICAgICBjb25zdCBwcm9jZXNzT3B0aW9ucyA9IHByZXByb2Nlc3Nvck9wdGlvbnNbcHJvY2Vzc0tleV07XG4gICAgICBmcmFnbWVudCA9IHByb2Nlc3Nlc1twcm9jZXNzS2V5XShmcmFnbWVudCwgcHJvY2Vzc09wdGlvbnMsIHRydWUpO1xuICAgICAgdmVydGV4ID0gcHJvY2Vzc2VzW3Byb2Nlc3NLZXldKHZlcnRleCwgcHJvY2Vzc09wdGlvbnMsIGZhbHNlKTtcbiAgICB9KTtcbiAgICB0aGlzLmZyYWdtZW50ID0gZnJhZ21lbnQ7XG4gICAgdGhpcy52ZXJ0ZXggPSB2ZXJ0ZXg7XG4gICAgdGhpcy5fa2V5ID0gY3JlYXRlSWRGcm9tU3RyaW5nKGAke3RoaXMudmVydGV4fToke3RoaXMuZnJhZ21lbnR9YCwgXCJnbC1wcm9ncmFtXCIpO1xuICB9XG4gIC8qKiBkZXN0cm95cyB0aGUgcHJvZ3JhbSAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZnJhZ21lbnQgPSBudWxsO1xuICAgIHRoaXMudmVydGV4ID0gbnVsbDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVEYXRhID0gbnVsbDtcbiAgICB0aGlzLl91bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgdGhpcy5fdW5pZm9ybUJsb2NrRGF0YSA9IG51bGw7XG4gICAgdGhpcy50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHByb2dyYW0gZm9yIGEgZ2l2ZW4gc291cmNlLlxuICAgKiBJdCB3aWxsIGNoZWNrIHRoZSBwcm9ncmFtIGNhY2hlIGlmIHRoZSBwcm9ncmFtIGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZC5cbiAgICogSWYgaXQgaGFzIHRoYXQgb25lIHdpbGwgYmUgcmV0dXJuZWQsIGlmIG5vdCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkIGFuZCBjYWNoZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBwcm9ncmFtLlxuICAgKiBAcmV0dXJucyBBIHByb2dyYW0gdXNpbmcgdGhlIHNhbWUgc291cmNlXG4gICAqL1xuICBzdGF0aWMgZnJvbShvcHRpb25zKSB7XG4gICAgY29uc3Qga2V5ID0gYCR7b3B0aW9ucy52ZXJ0ZXh9OiR7b3B0aW9ucy5mcmFnbWVudH1gO1xuICAgIGlmICghcHJvZ3JhbUNhY2hlW2tleV0pIHtcbiAgICAgIHByb2dyYW1DYWNoZVtrZXldID0gbmV3IF9HbFByb2dyYW0ob3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtQ2FjaGVba2V5XTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIHByb2dyYW0uICovXG5fR2xQcm9ncmFtLmRlZmF1bHRPcHRpb25zID0ge1xuICBwcmVmZXJyZWRWZXJ0ZXhQcmVjaXNpb246IFwiaGlnaHBcIixcbiAgcHJlZmVycmVkRnJhZ21lbnRQcmVjaXNpb246IFwibWVkaXVtcFwiXG59O1xubGV0IEdsUHJvZ3JhbSA9IF9HbFByb2dyYW07XG5cbmV4cG9ydCB7IEdsUHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xQcm9ncmFtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gc3RyaXBWZXJzaW9uKHNyYywgaXNFUzMwMCkge1xuICBpZiAoIWlzRVMzMDApXG4gICAgcmV0dXJuIHNyYztcbiAgcmV0dXJuIHNyYy5yZXBsYWNlKFwiI3ZlcnNpb24gMzAwIGVzXCIsIFwiXCIpO1xufVxuXG5leHBvcnQgeyBzdHJpcFZlcnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmlwVmVyc2lvbi5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGVuc3VyZVByZWNpc2lvbihzcmMsIG9wdGlvbnMsIGlzRnJhZ21lbnQpIHtcbiAgY29uc3QgbWF4U3VwcG9ydGVkUHJlY2lzaW9uID0gaXNGcmFnbWVudCA/IG9wdGlvbnMubWF4U3VwcG9ydGVkRnJhZ21lbnRQcmVjaXNpb24gOiBvcHRpb25zLm1heFN1cHBvcnRlZFZlcnRleFByZWNpc2lvbjtcbiAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09IFwicHJlY2lzaW9uXCIpIHtcbiAgICBsZXQgcHJlY2lzaW9uID0gaXNGcmFnbWVudCA/IG9wdGlvbnMucmVxdWVzdGVkRnJhZ21lbnRQcmVjaXNpb24gOiBvcHRpb25zLnJlcXVlc3RlZFZlcnRleFByZWNpc2lvbjtcbiAgICBpZiAocHJlY2lzaW9uID09PSBcImhpZ2hwXCIgJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBcImhpZ2hwXCIpIHtcbiAgICAgIHByZWNpc2lvbiA9IFwibWVkaXVtcFwiO1xuICAgIH1cbiAgICByZXR1cm4gYHByZWNpc2lvbiAke3ByZWNpc2lvbn0gZmxvYXQ7XG4ke3NyY31gO1xuICB9IGVsc2UgaWYgKG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gXCJoaWdocFwiICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSBcInByZWNpc2lvbiBoaWdocFwiKSB7XG4gICAgcmV0dXJuIHNyYy5yZXBsYWNlKFwicHJlY2lzaW9uIGhpZ2hwXCIsIFwicHJlY2lzaW9uIG1lZGl1bXBcIik7XG4gIH1cbiAgcmV0dXJuIHNyYztcbn1cblxuZXhwb3J0IHsgZW5zdXJlUHJlY2lzaW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnN1cmVQcmVjaXNpb24ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhZGRQcm9ncmFtRGVmaW5lcyhzcmMsIGlzRVMzMDAsIGlzRnJhZ21lbnQpIHtcbiAgaWYgKGlzRVMzMDApXG4gICAgcmV0dXJuIHNyYztcbiAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICBzcmMgPSBzcmMucmVwbGFjZShcIm91dCB2ZWM0IGZpbmFsQ29sb3I7XCIsIFwiXCIpO1xuICAgIHJldHVybiBgXG4gICAgICAgIFxuICAgICAgICAjaWZkZWYgR0xfRVMgLy8gVGhpcyBjaGVja3MgaWYgaXQgaXMgV2ViR0wxXG4gICAgICAgICNkZWZpbmUgaW4gdmFyeWluZ1xuICAgICAgICAjZGVmaW5lIGZpbmFsQ29sb3IgZ2xfRnJhZ0NvbG9yXG4gICAgICAgICNkZWZpbmUgdGV4dHVyZSB0ZXh0dXJlMkRcbiAgICAgICAgI2VuZGlmXG4gICAgICAgICR7c3JjfVxuICAgICAgICBgO1xuICB9XG4gIHJldHVybiBgXG4gICAgICAgIFxuICAgICAgICAjaWZkZWYgR0xfRVMgLy8gVGhpcyBjaGVja3MgaWYgaXQgaXMgV2ViR0wxXG4gICAgICAgICNkZWZpbmUgaW4gYXR0cmlidXRlXG4gICAgICAgICNkZWZpbmUgb3V0IHZhcnlpbmdcbiAgICAgICAgI2VuZGlmXG4gICAgICAgICR7c3JjfVxuICAgICAgICBgO1xufVxuXG5leHBvcnQgeyBhZGRQcm9ncmFtRGVmaW5lcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkUHJvZ3JhbURlZmluZXMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpbnNlcnRWZXJzaW9uKHNyYywgaXNFUzMwMCkge1xuICBpZiAoIWlzRVMzMDApXG4gICAgcmV0dXJuIHNyYztcbiAgcmV0dXJuIGAjdmVyc2lvbiAzMDAgZXNcbiR7c3JjfWA7XG59XG5cbmV4cG9ydCB7IGluc2VydFZlcnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc2VydFZlcnNpb24ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBXR1NMX1RPX1ZFUlRFWF9UWVBFUyA9IHtcbiAgZjMyOiBcImZsb2F0MzJcIixcbiAgXCJ2ZWMyPGYzMj5cIjogXCJmbG9hdDMyeDJcIixcbiAgXCJ2ZWMzPGYzMj5cIjogXCJmbG9hdDMyeDNcIixcbiAgXCJ2ZWM0PGYzMj5cIjogXCJmbG9hdDMyeDRcIixcbiAgdmVjMmY6IFwiZmxvYXQzMngyXCIsXG4gIHZlYzNmOiBcImZsb2F0MzJ4M1wiLFxuICB2ZWM0ZjogXCJmbG9hdDMyeDRcIixcbiAgaTMyOiBcInNpbnQzMlwiLFxuICBcInZlYzI8aTMyPlwiOiBcInNpbnQzMngyXCIsXG4gIFwidmVjMzxpMzI+XCI6IFwic2ludDMyeDNcIixcbiAgXCJ2ZWM0PGkzMj5cIjogXCJzaW50MzJ4NFwiLFxuICB1MzI6IFwidWludDMyXCIsXG4gIFwidmVjMjx1MzI+XCI6IFwidWludDMyeDJcIixcbiAgXCJ2ZWMzPHUzMj5cIjogXCJ1aW50MzJ4M1wiLFxuICBcInZlYzQ8dTMyPlwiOiBcInVpbnQzMng0XCIsXG4gIGJvb2w6IFwidWludDMyXCIsXG4gIFwidmVjMjxib29sPlwiOiBcInVpbnQzMngyXCIsXG4gIFwidmVjMzxib29sPlwiOiBcInVpbnQzMngzXCIsXG4gIFwidmVjNDxib29sPlwiOiBcInVpbnQzMng0XCJcbn07XG5mdW5jdGlvbiBleHRyYWN0QXR0cmlidXRlc0Zyb21HcHVQcm9ncmFtKHsgc291cmNlLCBlbnRyeVBvaW50IH0pIHtcbiAgY29uc3QgcmVzdWx0cyA9IHt9O1xuICBjb25zdCBtYWluVmVydFN0YXJ0ID0gc291cmNlLmluZGV4T2YoYGZuICR7ZW50cnlQb2ludH1gKTtcbiAgaWYgKG1haW5WZXJ0U3RhcnQgIT09IC0xKSB7XG4gICAgY29uc3QgYXJyb3dGdW5jdGlvblN0YXJ0ID0gc291cmNlLmluZGV4T2YoXCItPlwiLCBtYWluVmVydFN0YXJ0KTtcbiAgICBpZiAoYXJyb3dGdW5jdGlvblN0YXJ0ICE9PSAtMSkge1xuICAgICAgY29uc3QgZnVuY3Rpb25BcmdzU3Vic3RyaW5nID0gc291cmNlLnN1YnN0cmluZyhtYWluVmVydFN0YXJ0LCBhcnJvd0Z1bmN0aW9uU3RhcnQpO1xuICAgICAgY29uc3QgaW5wdXRzUmVnZXggPSAvQGxvY2F0aW9uXFwoKFxcZCspXFwpXFxzKyhbYS16QS1aMC05X10rKVxccyo6XFxzKihbYS16QS1aMC05Xzw+XSspKD86LHxcXHN8JCkvZztcbiAgICAgIGxldCBtYXRjaDtcbiAgICAgIHdoaWxlICgobWF0Y2ggPSBpbnB1dHNSZWdleC5leGVjKGZ1bmN0aW9uQXJnc1N1YnN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IFdHU0xfVE9fVkVSVEVYX1RZUEVTW21hdGNoWzNdXSA/PyBcImZsb2F0MzJcIjtcbiAgICAgICAgcmVzdWx0c1ttYXRjaFsyXV0gPSB7XG4gICAgICAgICAgbG9jYXRpb246IHBhcnNlSW50KG1hdGNoWzFdLCAxMCksXG4gICAgICAgICAgZm9ybWF0LFxuICAgICAgICAgIHN0cmlkZTogZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQoZm9ybWF0KS5zdHJpZGUsXG4gICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgIGluc3RhbmNlOiBmYWxzZSxcbiAgICAgICAgICBzdGFydDogMFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZXhwb3J0IHsgZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4dHJhY3RTdHJ1Y3RBbmRHcm91cHMod2dzbCkge1xuICBjb25zdCBsaW5lUGF0dGVybiA9IC8oXnxbXi9dKUAoZ3JvdXB8YmluZGluZylcXChcXGQrXFwpW147XSs7L2c7XG4gIGNvbnN0IGdyb3VwUGF0dGVybiA9IC9AZ3JvdXBcXCgoXFxkKylcXCkvO1xuICBjb25zdCBiaW5kaW5nUGF0dGVybiA9IC9AYmluZGluZ1xcKChcXGQrKVxcKS87XG4gIGNvbnN0IG5hbWVQYXR0ZXJuID0gL3Zhcig8W14+XSs+KT8gKFxcdyspLztcbiAgY29uc3QgdHlwZVBhdHRlcm4gPSAvOlxccyooXFx3KykvO1xuICBjb25zdCBzdHJ1Y3RQYXR0ZXJuID0gL3N0cnVjdFxccysoXFx3KylcXHMqeyhbXn1dKyl9L2c7XG4gIGNvbnN0IHN0cnVjdE1lbWJlclBhdHRlcm4gPSAvKFxcdyspXFxzKjpcXHMqKFtcXHdcXDxcXD5dKykvZztcbiAgY29uc3Qgc3RydWN0TmFtZSA9IC9zdHJ1Y3RcXHMrKFxcdyspLztcbiAgY29uc3QgZ3JvdXBzID0gd2dzbC5tYXRjaChsaW5lUGF0dGVybik/Lm1hcCgoaXRlbSkgPT4gKHtcbiAgICBncm91cDogcGFyc2VJbnQoaXRlbS5tYXRjaChncm91cFBhdHRlcm4pWzFdLCAxMCksXG4gICAgYmluZGluZzogcGFyc2VJbnQoaXRlbS5tYXRjaChiaW5kaW5nUGF0dGVybilbMV0sIDEwKSxcbiAgICBuYW1lOiBpdGVtLm1hdGNoKG5hbWVQYXR0ZXJuKVsyXSxcbiAgICBpc1VuaWZvcm06IGl0ZW0ubWF0Y2gobmFtZVBhdHRlcm4pWzFdID09PSBcIjx1bmlmb3JtPlwiLFxuICAgIHR5cGU6IGl0ZW0ubWF0Y2godHlwZVBhdHRlcm4pWzFdXG4gIH0pKTtcbiAgaWYgKCFncm91cHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ3JvdXBzOiBbXSxcbiAgICAgIHN0cnVjdHM6IFtdXG4gICAgfTtcbiAgfVxuICBjb25zdCBzdHJ1Y3RzID0gd2dzbC5tYXRjaChzdHJ1Y3RQYXR0ZXJuKT8ubWFwKChzdHJ1Y3QpID0+IHtcbiAgICBjb25zdCBuYW1lID0gc3RydWN0Lm1hdGNoKHN0cnVjdE5hbWUpWzFdO1xuICAgIGNvbnN0IG1lbWJlcnMgPSBzdHJ1Y3QubWF0Y2goc3RydWN0TWVtYmVyUGF0dGVybikucmVkdWNlKChhY2MsIG1lbWJlcikgPT4ge1xuICAgICAgY29uc3QgW25hbWUyLCB0eXBlXSA9IG1lbWJlci5zcGxpdChcIjpcIik7XG4gICAgICBhY2NbbmFtZTIudHJpbSgpXSA9IHR5cGUudHJpbSgpO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgaWYgKCFtZW1iZXJzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbmFtZSwgbWVtYmVycyB9O1xuICB9KS5maWx0ZXIoKHsgbmFtZSB9KSA9PiBncm91cHMuc29tZSgoZ3JvdXApID0+IGdyb3VwLnR5cGUgPT09IG5hbWUpKSA/PyBbXTtcbiAgcmV0dXJuIHtcbiAgICBncm91cHMsXG4gICAgc3RydWN0c1xuICB9O1xufVxuXG5leHBvcnQgeyBleHRyYWN0U3RydWN0QW5kR3JvdXBzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0U3RydWN0QW5kR3JvdXBzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIFNoYWRlclN0YWdlID0gLyogQF9fUFVSRV9fICovICgoU2hhZGVyU3RhZ2UyKSA9PiB7XG4gIFNoYWRlclN0YWdlMltTaGFkZXJTdGFnZTJbXCJWRVJURVhcIl0gPSAxXSA9IFwiVkVSVEVYXCI7XG4gIFNoYWRlclN0YWdlMltTaGFkZXJTdGFnZTJbXCJGUkFHTUVOVFwiXSA9IDJdID0gXCJGUkFHTUVOVFwiO1xuICBTaGFkZXJTdGFnZTJbU2hhZGVyU3RhZ2UyW1wiQ09NUFVURVwiXSA9IDRdID0gXCJDT01QVVRFXCI7XG4gIHJldHVybiBTaGFkZXJTdGFnZTI7XG59KShTaGFkZXJTdGFnZSB8fCB7fSk7XG5cbmV4cG9ydCB7IFNoYWRlclN0YWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5tanMubWFwXG4iLCJpbXBvcnQgeyBjcmVhdGVJZEZyb21TdHJpbmcgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMvY3JlYXRlSWRGcm9tU3RyaW5nLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0QXR0cmlidXRlc0Zyb21HcHVQcm9ncmFtIH0gZnJvbSAnLi91dGlscy9leHRyYWN0QXR0cmlidXRlc0Zyb21HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0U3RydWN0QW5kR3JvdXBzIH0gZnJvbSAnLi91dGlscy9leHRyYWN0U3RydWN0QW5kR3JvdXBzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUdwdUxheW91dEdyb3VwcyB9IGZyb20gJy4vdXRpbHMvZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMubWpzJztcbmltcG9ydCB7IGdlbmVyYXRlTGF5b3V0SGFzaCB9IGZyb20gJy4vdXRpbHMvZ2VuZXJhdGVMYXlvdXRIYXNoLm1qcyc7XG5pbXBvcnQgeyByZW1vdmVTdHJ1Y3RBbmRHcm91cER1cGxpY2F0ZXMgfSBmcm9tICcuL3V0aWxzL3JlbW92ZVN0cnVjdEFuZEdyb3VwRHVwbGljYXRlcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHByb2dyYW1DYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuY2xhc3MgR3B1UHJvZ3JhbSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgR3B1UHJvZ3JhbVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgZ3B1IHByb2dyYW1cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5fbGF5b3V0S2V5ID0gMDtcbiAgICBjb25zdCB7IGZyYWdtZW50LCB2ZXJ0ZXgsIGxheW91dCwgZ3B1TGF5b3V0LCBuYW1lIH0gPSBvcHRpb25zO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50O1xuICAgIHRoaXMudmVydGV4ID0gdmVydGV4O1xuICAgIGlmIChmcmFnbWVudC5zb3VyY2UgPT09IHZlcnRleC5zb3VyY2UpIHtcbiAgICAgIGNvbnN0IHN0cnVjdHNBbmRHcm91cHMgPSBleHRyYWN0U3RydWN0QW5kR3JvdXBzKGZyYWdtZW50LnNvdXJjZSk7XG4gICAgICB0aGlzLnN0cnVjdHNBbmRHcm91cHMgPSBzdHJ1Y3RzQW5kR3JvdXBzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2ZXJ0ZXhTdHJ1Y3RzQW5kR3JvdXBzID0gZXh0cmFjdFN0cnVjdEFuZEdyb3Vwcyh2ZXJ0ZXguc291cmNlKTtcbiAgICAgIGNvbnN0IGZyYWdtZW50U3RydWN0c0FuZEdyb3VwcyA9IGV4dHJhY3RTdHJ1Y3RBbmRHcm91cHMoZnJhZ21lbnQuc291cmNlKTtcbiAgICAgIHRoaXMuc3RydWN0c0FuZEdyb3VwcyA9IHJlbW92ZVN0cnVjdEFuZEdyb3VwRHVwbGljYXRlcyh2ZXJ0ZXhTdHJ1Y3RzQW5kR3JvdXBzLCBmcmFnbWVudFN0cnVjdHNBbmRHcm91cHMpO1xuICAgIH1cbiAgICB0aGlzLmxheW91dCA9IGxheW91dCA/PyBnZW5lcmF0ZUxheW91dEhhc2godGhpcy5zdHJ1Y3RzQW5kR3JvdXBzKTtcbiAgICB0aGlzLmdwdUxheW91dCA9IGdwdUxheW91dCA/PyBnZW5lcmF0ZUdwdUxheW91dEdyb3Vwcyh0aGlzLnN0cnVjdHNBbmRHcm91cHMpO1xuICAgIHRoaXMuYXV0b0Fzc2lnbkdsb2JhbFVuaWZvcm1zID0gISEodGhpcy5sYXlvdXRbMF0/Lmdsb2JhbFVuaWZvcm1zICE9PSB2b2lkIDApO1xuICAgIHRoaXMuYXV0b0Fzc2lnbkxvY2FsVW5pZm9ybXMgPSAhISh0aGlzLmxheW91dFsxXT8ubG9jYWxVbmlmb3JtcyAhPT0gdm9pZCAwKTtcbiAgICB0aGlzLl9nZW5lcmF0ZVByb2dyYW1LZXkoKTtcbiAgfVxuICAvLyBUT0RPIG1ha2VyIHRoaXMgcHVyZVxuICBfZ2VuZXJhdGVQcm9ncmFtS2V5KCkge1xuICAgIGNvbnN0IHsgdmVydGV4LCBmcmFnbWVudCB9ID0gdGhpcztcbiAgICBjb25zdCBiaWdLZXkgPSB2ZXJ0ZXguc291cmNlICsgZnJhZ21lbnQuc291cmNlICsgdmVydGV4LmVudHJ5UG9pbnQgKyBmcmFnbWVudC5lbnRyeVBvaW50O1xuICAgIHRoaXMuX2xheW91dEtleSA9IGNyZWF0ZUlkRnJvbVN0cmluZyhiaWdLZXksIFwicHJvZ3JhbVwiKTtcbiAgfVxuICBnZXQgYXR0cmlidXRlRGF0YSgpIHtcbiAgICB0aGlzLl9hdHRyaWJ1dGVEYXRhID8/ICh0aGlzLl9hdHRyaWJ1dGVEYXRhID0gZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbSh0aGlzLnZlcnRleCkpO1xuICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVEYXRhO1xuICB9XG4gIC8qKiBkZXN0cm95cyB0aGUgcHJvZ3JhbSAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZ3B1TGF5b3V0ID0gbnVsbDtcbiAgICB0aGlzLmxheW91dCA9IG51bGw7XG4gICAgdGhpcy5zdHJ1Y3RzQW5kR3JvdXBzID0gbnVsbDtcbiAgICB0aGlzLmZyYWdtZW50ID0gbnVsbDtcbiAgICB0aGlzLnZlcnRleCA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBwcm9ncmFtIGZvciBhIGdpdmVuIHNvdXJjZS5cbiAgICogSXQgd2lsbCBjaGVjayB0aGUgcHJvZ3JhbSBjYWNoZSBpZiB0aGUgcHJvZ3JhbSBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQuXG4gICAqIElmIGl0IGhhcyB0aGF0IG9uZSB3aWxsIGJlIHJldHVybmVkLCBpZiBub3QgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZCBhbmQgY2FjaGVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgcHJvZ3JhbS5cbiAgICogQHJldHVybnMgQSBwcm9ncmFtIHVzaW5nIHRoZSBzYW1lIHNvdXJjZVxuICAgKi9cbiAgc3RhdGljIGZyb20ob3B0aW9ucykge1xuICAgIGNvbnN0IGtleSA9IGAke29wdGlvbnMudmVydGV4LnNvdXJjZX06JHtvcHRpb25zLmZyYWdtZW50LnNvdXJjZX06JHtvcHRpb25zLmZyYWdtZW50LmVudHJ5UG9pbnR9OiR7b3B0aW9ucy52ZXJ0ZXguZW50cnlQb2ludH1gO1xuICAgIGlmICghcHJvZ3JhbUNhY2hlW2tleV0pIHtcbiAgICAgIHByb2dyYW1DYWNoZVtrZXldID0gbmV3IEdwdVByb2dyYW0ob3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtQ2FjaGVba2V5XTtcbiAgfVxufVxuXG5leHBvcnQgeyBHcHVQcm9ncmFtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcHVQcm9ncmFtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gcmVtb3ZlU3RydWN0QW5kR3JvdXBEdXBsaWNhdGVzKHZlcnRleFN0cnVjdHNBbmRHcm91cHMsIGZyYWdtZW50U3RydWN0c0FuZEdyb3Vwcykge1xuICBjb25zdCBzdHJ1Y3ROYW1lU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3QgZHVwZUdyb3VwS2V5U2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgc3RydWN0cyA9IFsuLi52ZXJ0ZXhTdHJ1Y3RzQW5kR3JvdXBzLnN0cnVjdHMsIC4uLmZyYWdtZW50U3RydWN0c0FuZEdyb3Vwcy5zdHJ1Y3RzXS5maWx0ZXIoKHN0cnVjdCkgPT4ge1xuICAgIGlmIChzdHJ1Y3ROYW1lU2V0LmhhcyhzdHJ1Y3QubmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RydWN0TmFtZVNldC5hZGQoc3RydWN0Lm5hbWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgY29uc3QgZ3JvdXBzID0gWy4uLnZlcnRleFN0cnVjdHNBbmRHcm91cHMuZ3JvdXBzLCAuLi5mcmFnbWVudFN0cnVjdHNBbmRHcm91cHMuZ3JvdXBzXS5maWx0ZXIoKGdyb3VwKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYCR7Z3JvdXAubmFtZX0tJHtncm91cC5iaW5kaW5nfWA7XG4gICAgaWYgKGR1cGVHcm91cEtleVNldC5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkdXBlR3JvdXBLZXlTZXQuYWRkKGtleSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICByZXR1cm4geyBzdHJ1Y3RzLCBncm91cHMgfTtcbn1cblxuZXhwb3J0IHsgcmVtb3ZlU3RydWN0QW5kR3JvdXBEdXBsaWNhdGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdmVTdHJ1Y3RBbmRHcm91cER1cGxpY2F0ZXMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUxheW91dEhhc2goeyBncm91cHMgfSkge1xuICBjb25zdCBsYXlvdXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICBpZiAoIWxheW91dFtncm91cC5ncm91cF0pIHtcbiAgICAgIGxheW91dFtncm91cC5ncm91cF0gPSB7fTtcbiAgICB9XG4gICAgbGF5b3V0W2dyb3VwLmdyb3VwXVtncm91cC5uYW1lXSA9IGdyb3VwLmJpbmRpbmc7XG4gIH1cbiAgcmV0dXJuIGxheW91dDtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVMYXlvdXRIYXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZUxheW91dEhhc2gubWpzLm1hcFxuIiwiaW1wb3J0IHsgU2hhZGVyU3RhZ2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvc2hhZGVyL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMoeyBncm91cHMgfSkge1xuICBjb25zdCBsYXlvdXQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICBpZiAoIWxheW91dFtncm91cC5ncm91cF0pIHtcbiAgICAgIGxheW91dFtncm91cC5ncm91cF0gPSBbXTtcbiAgICB9XG4gICAgaWYgKGdyb3VwLmlzVW5pZm9ybSkge1xuICAgICAgbGF5b3V0W2dyb3VwLmdyb3VwXS5wdXNoKHtcbiAgICAgICAgYmluZGluZzogZ3JvdXAuYmluZGluZyxcbiAgICAgICAgdmlzaWJpbGl0eTogU2hhZGVyU3RhZ2UuVkVSVEVYIHwgU2hhZGVyU3RhZ2UuRlJBR01FTlQsXG4gICAgICAgIGJ1ZmZlcjoge1xuICAgICAgICAgIHR5cGU6IFwidW5pZm9ybVwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXAudHlwZSA9PT0gXCJzYW1wbGVyXCIpIHtcbiAgICAgIGxheW91dFtncm91cC5ncm91cF0ucHVzaCh7XG4gICAgICAgIGJpbmRpbmc6IGdyb3VwLmJpbmRpbmcsXG4gICAgICAgIHZpc2liaWxpdHk6IFNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgICAgICBzYW1wbGVyOiB7XG4gICAgICAgICAgdHlwZTogXCJmaWx0ZXJpbmdcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGdyb3VwLnR5cGUgPT09IFwidGV4dHVyZV8yZFwiKSB7XG4gICAgICBsYXlvdXRbZ3JvdXAuZ3JvdXBdLnB1c2goe1xuICAgICAgICBiaW5kaW5nOiBncm91cC5iaW5kaW5nLFxuICAgICAgICB2aXNpYmlsaXR5OiBTaGFkZXJTdGFnZS5GUkFHTUVOVCxcbiAgICAgICAgdGV4dHVyZToge1xuICAgICAgICAgIHNhbXBsZVR5cGU6IFwiZmxvYXRcIixcbiAgICAgICAgICB2aWV3RGltZW5zaW9uOiBcIjJkXCIsXG4gICAgICAgICAgbXVsdGlzYW1wbGVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxheW91dDtcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVHcHVMYXlvdXRHcm91cHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlR3B1TGF5b3V0R3JvdXBzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYXR0cmlidXRlRm9ybWF0RGF0YSA9IHtcbiAgdWludDh4MjogeyBzaXplOiAyLCBzdHJpZGU6IDIsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHVpbnQ4eDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBzaW50OHgyOiB7IHNpemU6IDIsIHN0cmlkZTogMiwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgc2ludDh4NDogeyBzaXplOiA0LCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHVub3JtOHgyOiB7IHNpemU6IDIsIHN0cmlkZTogMiwgbm9ybWFsaXNlZDogdHJ1ZSB9LFxuICB1bm9ybTh4NDogeyBzaXplOiA0LCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IHRydWUgfSxcbiAgc25vcm04eDI6IHsgc2l6ZTogMiwgc3RyaWRlOiAyLCBub3JtYWxpc2VkOiB0cnVlIH0sXG4gIHNub3JtOHg0OiB7IHNpemU6IDQsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogdHJ1ZSB9LFxuICB1aW50MTZ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHVpbnQxNng0OiB7IHNpemU6IDQsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgc2ludDE2eDI6IHsgc2l6ZTogMiwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBzaW50MTZ4NDogeyBzaXplOiA0LCBzdHJpZGU6IDgsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHVub3JtMTZ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IHRydWUgfSxcbiAgdW5vcm0xNng0OiB7IHNpemU6IDQsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogdHJ1ZSB9LFxuICBzbm9ybTE2eDI6IHsgc2l6ZTogMiwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiB0cnVlIH0sXG4gIHNub3JtMTZ4NDogeyBzaXplOiA0LCBzdHJpZGU6IDgsIG5vcm1hbGlzZWQ6IHRydWUgfSxcbiAgZmxvYXQxNngyOiB7IHNpemU6IDIsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgZmxvYXQxNng0OiB7IHNpemU6IDQsIHN0cmlkZTogOCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgZmxvYXQzMjogeyBzaXplOiAxLCBzdHJpZGU6IDQsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIGZsb2F0MzJ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDgsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIGZsb2F0MzJ4MzogeyBzaXplOiAzLCBzdHJpZGU6IDEyLCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBmbG9hdDMyeDQ6IHsgc2l6ZTogNCwgc3RyaWRlOiAxNiwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgdWludDMyOiB7IHNpemU6IDEsIHN0cmlkZTogNCwgbm9ybWFsaXNlZDogZmFsc2UgfSxcbiAgdWludDMyeDI6IHsgc2l6ZTogMiwgc3RyaWRlOiA4LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICB1aW50MzJ4MzogeyBzaXplOiAzLCBzdHJpZGU6IDEyLCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICB1aW50MzJ4NDogeyBzaXplOiA0LCBzdHJpZGU6IDE2LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBzaW50MzI6IHsgc2l6ZTogMSwgc3RyaWRlOiA0LCBub3JtYWxpc2VkOiBmYWxzZSB9LFxuICBzaW50MzJ4MjogeyBzaXplOiAyLCBzdHJpZGU6IDgsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHNpbnQzMngzOiB7IHNpemU6IDMsIHN0cmlkZTogMTIsIG5vcm1hbGlzZWQ6IGZhbHNlIH0sXG4gIHNpbnQzMng0OiB7IHNpemU6IDQsIHN0cmlkZTogMTYsIG5vcm1hbGlzZWQ6IGZhbHNlIH1cbn07XG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChmb3JtYXQpIHtcbiAgcmV0dXJuIGF0dHJpYnV0ZUZvcm1hdERhdGFbZm9ybWF0XSA/PyBhdHRyaWJ1dGVGb3JtYXREYXRhLmZsb2F0MzI7XG59XG5cbmV4cG9ydCB7IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdC5tanMubWFwXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vLi4vZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi8uLi9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuL1VuaWZvcm1Hcm91cC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFNoYWRlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIEEgcmVjb3JkIG9mIHRoZSB1bmlmb3JtIGdyb3VwcyBhbmQgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIHNoYWRlci5cbiAgICAgKiBUaGlzIGlzIHVzZWQgYnkgV2ViR0wgcmVuZGVyZXIgdG8gc3luYyB1bmlmb3JtIGRhdGEuXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3VuaWZvcm1CaW5kTWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fb3duZWRCaW5kR3JvdXBzID0gW107XG4gICAgbGV0IHtcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICBnbFByb2dyYW0sXG4gICAgICBncm91cHMsXG4gICAgICByZXNvdXJjZXMsXG4gICAgICBjb21wYXRpYmxlUmVuZGVyZXJzLFxuICAgICAgZ3JvdXBNYXBcbiAgICB9ID0gb3B0aW9ucztcbiAgICB0aGlzLmdwdVByb2dyYW0gPSBncHVQcm9ncmFtO1xuICAgIHRoaXMuZ2xQcm9ncmFtID0gZ2xQcm9ncmFtO1xuICAgIGlmIChjb21wYXRpYmxlUmVuZGVyZXJzID09PSB2b2lkIDApIHtcbiAgICAgIGNvbXBhdGlibGVSZW5kZXJlcnMgPSAwO1xuICAgICAgaWYgKGdwdVByb2dyYW0pXG4gICAgICAgIGNvbXBhdGlibGVSZW5kZXJlcnMgfD0gUmVuZGVyZXJUeXBlLldFQkdQVTtcbiAgICAgIGlmIChnbFByb2dyYW0pXG4gICAgICAgIGNvbXBhdGlibGVSZW5kZXJlcnMgfD0gUmVuZGVyZXJUeXBlLldFQkdMO1xuICAgIH1cbiAgICB0aGlzLmNvbXBhdGlibGVSZW5kZXJlcnMgPSBjb21wYXRpYmxlUmVuZGVyZXJzO1xuICAgIGNvbnN0IG5hbWVIYXNoID0ge307XG4gICAgaWYgKCFyZXNvdXJjZXMgJiYgIWdyb3Vwcykge1xuICAgICAgcmVzb3VyY2VzID0ge307XG4gICAgfVxuICAgIGlmIChyZXNvdXJjZXMgJiYgZ3JvdXBzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbU2hhZGVyXSBDYW5ub3QgaGF2ZSBib3RoIHJlc291cmNlcyBhbmQgZ3JvdXBzXCIpO1xuICAgIH0gZWxzZSBpZiAoIWdwdVByb2dyYW0gJiYgZ3JvdXBzICYmICFncm91cE1hcCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW1NoYWRlcl0gTm8gZ3JvdXAgbWFwIG9yIFdlYkdQVSBzaGFkZXIgcHJvdmlkZWQgLSBjb25zaWRlciB1c2luZyByZXNvdXJjZXMgaW5zdGVhZC5cIik7XG4gICAgfSBlbHNlIGlmICghZ3B1UHJvZ3JhbSAmJiBncm91cHMgJiYgZ3JvdXBNYXApIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiBncm91cE1hcCkge1xuICAgICAgICBmb3IgKGNvbnN0IGogaW4gZ3JvdXBNYXBbaV0pIHtcbiAgICAgICAgICBjb25zdCB1bmlmb3JtTmFtZSA9IGdyb3VwTWFwW2ldW2pdO1xuICAgICAgICAgIG5hbWVIYXNoW3VuaWZvcm1OYW1lXSA9IHtcbiAgICAgICAgICAgIGdyb3VwOiBpLFxuICAgICAgICAgICAgYmluZGluZzogaixcbiAgICAgICAgICAgIG5hbWU6IHVuaWZvcm1OYW1lXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ3B1UHJvZ3JhbSAmJiBncm91cHMgJiYgIWdyb3VwTWFwKSB7XG4gICAgICBjb25zdCBncm91cERhdGEgPSBncHVQcm9ncmFtLnN0cnVjdHNBbmRHcm91cHMuZ3JvdXBzO1xuICAgICAgZ3JvdXBNYXAgPSB7fTtcbiAgICAgIGdyb3VwRGF0YS5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICAgIGdyb3VwTWFwW2RhdGEuZ3JvdXBdID0gZ3JvdXBNYXBbZGF0YS5ncm91cF0gfHwge307XG4gICAgICAgIGdyb3VwTWFwW2RhdGEuZ3JvdXBdW2RhdGEuYmluZGluZ10gPSBkYXRhLm5hbWU7XG4gICAgICAgIG5hbWVIYXNoW2RhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXNvdXJjZXMpIHtcbiAgICAgIGlmICghZ3B1UHJvZ3JhbSkge1xuICAgICAgICBncm91cE1hcCA9IHt9O1xuICAgICAgICBncm91cHMgPSB7XG4gICAgICAgICAgOTk6IG5ldyBCaW5kR3JvdXAoKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vd25lZEJpbmRHcm91cHMucHVzaChncm91cHNbOTldKTtcbiAgICAgICAgbGV0IGJpbmRUaWNrID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBpIGluIHJlc291cmNlcykge1xuICAgICAgICAgIG5hbWVIYXNoW2ldID0geyBncm91cDogOTksIGJpbmRpbmc6IGJpbmRUaWNrLCBuYW1lOiBpIH07XG4gICAgICAgICAgZ3JvdXBNYXBbOTldID0gZ3JvdXBNYXBbOTldIHx8IHt9O1xuICAgICAgICAgIGdyb3VwTWFwWzk5XVtiaW5kVGlja10gPSBpO1xuICAgICAgICAgIGJpbmRUaWNrKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGdyb3VwRGF0YSA9IGdwdVByb2dyYW0uc3RydWN0c0FuZEdyb3Vwcy5ncm91cHM7XG4gICAgICAgIGdyb3VwTWFwID0ge307XG4gICAgICAgIGdyb3VwRGF0YS5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICAgICAgZ3JvdXBNYXBbZGF0YS5ncm91cF0gPSBncm91cE1hcFtkYXRhLmdyb3VwXSB8fCB7fTtcbiAgICAgICAgICBncm91cE1hcFtkYXRhLmdyb3VwXVtkYXRhLmJpbmRpbmddID0gZGF0YS5uYW1lO1xuICAgICAgICAgIG5hbWVIYXNoW2RhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGdyb3VwcyA9IHt9O1xuICAgICAgZm9yIChjb25zdCBpIGluIHJlc291cmNlcykge1xuICAgICAgICBjb25zdCBuYW1lID0gaTtcbiAgICAgICAgbGV0IHZhbHVlID0gcmVzb3VyY2VzW2ldO1xuICAgICAgICBpZiAoIXZhbHVlLnNvdXJjZSAmJiAhdmFsdWUuX3Jlc291cmNlVHlwZSkge1xuICAgICAgICAgIHZhbHVlID0gbmV3IFVuaWZvcm1Hcm91cCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IG5hbWVIYXNoW25hbWVdO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIGlmICghZ3JvdXBzW2RhdGEuZ3JvdXBdKSB7XG4gICAgICAgICAgICBncm91cHNbZGF0YS5ncm91cF0gPSBuZXcgQmluZEdyb3VwKCk7XG4gICAgICAgICAgICB0aGlzLl9vd25lZEJpbmRHcm91cHMucHVzaChncm91cHNbZGF0YS5ncm91cF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBncm91cHNbZGF0YS5ncm91cF0uc2V0UmVzb3VyY2UodmFsdWUsIGRhdGEuYmluZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5ncm91cHMgPSBncm91cHM7XG4gICAgdGhpcy5fdW5pZm9ybUJpbmRNYXAgPSBncm91cE1hcDtcbiAgICB0aGlzLnJlc291cmNlcyA9IHRoaXMuX2J1aWxkUmVzb3VyY2VBY2Nlc3Nvcihncm91cHMsIG5hbWVIYXNoKTtcbiAgfVxuICAvKipcbiAgICogU29tZXRpbWVzIGEgcmVzb3VyY2UgZ3JvdXAgd2lsbCBiZSBwcm92aWRlZCBsYXRlciAoZm9yIGV4YW1wbGUgZ2xvYmFsIHVuaWZvcm1zKVxuICAgKiBJbiBzdWNoIGNhc2VzLCB0aGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBsZXQgdGhlIHNoYWRlciBrbm93IGFib3V0IHRoZSBncm91cC5cbiAgICogQHBhcmFtIG5hbWUgLSB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgZ3JvdXBcbiAgICogQHBhcmFtIGdyb3VwSW5kZXggLSB0aGUgaW5kZXggb2YgdGhlIGdyb3VwIChzaG91bGQgbWF0Y2ggdGhlIHdlYkdQVSBzaGFkZXIgZ3JvdXAgbG9jYXRpb24pXG4gICAqIEBwYXJhbSBiaW5kSW5kZXggLSB0aGUgaW5kZXggb2YgdGhlIGJpbmQgcG9pbnQgKHNob3VsZCBtYXRjaCB0aGUgd2ViR1BVIHNoYWRlciBiaW5kIHBvaW50KVxuICAgKi9cbiAgYWRkUmVzb3VyY2UobmFtZSwgZ3JvdXBJbmRleCwgYmluZEluZGV4KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAoX2EgPSB0aGlzLl91bmlmb3JtQmluZE1hcClbZ3JvdXBJbmRleF0gfHwgKF9hW2dyb3VwSW5kZXhdID0ge30pO1xuICAgIChfYiA9IHRoaXMuX3VuaWZvcm1CaW5kTWFwW2dyb3VwSW5kZXhdKVtiaW5kSW5kZXhdIHx8IChfYltiaW5kSW5kZXhdID0gbmFtZSk7XG4gICAgaWYgKCF0aGlzLmdyb3Vwc1tncm91cEluZGV4XSkge1xuICAgICAgdGhpcy5ncm91cHNbZ3JvdXBJbmRleF0gPSBuZXcgQmluZEdyb3VwKCk7XG4gICAgICB0aGlzLl9vd25lZEJpbmRHcm91cHMucHVzaCh0aGlzLmdyb3Vwc1tncm91cEluZGV4XSk7XG4gICAgfVxuICB9XG4gIF9idWlsZFJlc291cmNlQWNjZXNzb3IoZ3JvdXBzLCBuYW1lSGFzaCkge1xuICAgIGNvbnN0IHVuaWZvcm1zT3V0ID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIG5hbWVIYXNoKSB7XG4gICAgICBjb25zdCBkYXRhID0gbmFtZUhhc2hbaV07XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodW5pZm9ybXNPdXQsIGRhdGEubmFtZSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGdyb3Vwc1tkYXRhLmdyb3VwXS5nZXRSZXNvdXJjZShkYXRhLmJpbmRpbmcpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICBncm91cHNbZGF0YS5ncm91cF0uc2V0UmVzb3VyY2UodmFsdWUsIGRhdGEuYmluZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdW5pZm9ybXNPdXQ7XG4gIH1cbiAgLyoqXG4gICAqIFVzZSB0byBkZXN0cm95IHRoZSBzaGFkZXIgd2hlbiBpdHMgbm90IGxvbmdlciBuZWVkZWQuXG4gICAqIEl0IHdpbGwgZGVzdHJveSB0aGUgcmVzb3VyY2VzIGFuZCByZW1vdmUgbGlzdGVuZXJzLlxuICAgKiBAcGFyYW0gZGVzdHJveVByb2dyYW1zIC0gaWYgdGhlIHByb2dyYW1zIHNob3VsZCBiZSBkZXN0cm95ZWQgYXMgd2VsbC5cbiAgICogTWFrZSBzdXJlIGl0cyBub3QgYmVpbmcgdXNlZCBieSBvdGhlciBzaGFkZXJzIVxuICAgKi9cbiAgZGVzdHJveShkZXN0cm95UHJvZ3JhbXMgPSBmYWxzZSkge1xuICAgIHRoaXMuZW1pdChcImRlc3Ryb3lcIiwgdGhpcyk7XG4gICAgaWYgKGRlc3Ryb3lQcm9ncmFtcykge1xuICAgICAgdGhpcy5ncHVQcm9ncmFtPy5kZXN0cm95KCk7XG4gICAgICB0aGlzLmdsUHJvZ3JhbT8uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLmdwdVByb2dyYW0gPSBudWxsO1xuICAgIHRoaXMuZ2xQcm9ncmFtID0gbnVsbDtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuX3VuaWZvcm1CaW5kTWFwID0gbnVsbDtcbiAgICB0aGlzLl9vd25lZEJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICBiaW5kR3JvdXAuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX293bmVkQmluZEdyb3VwcyA9IG51bGw7XG4gICAgdGhpcy5yZXNvdXJjZXMgPSBudWxsO1xuICAgIHRoaXMuZ3JvdXBzID0gbnVsbDtcbiAgfVxuICBzdGF0aWMgZnJvbShvcHRpb25zKSB7XG4gICAgY29uc3QgeyBncHUsIGdsLCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICAgIGxldCBncHVQcm9ncmFtO1xuICAgIGxldCBnbFByb2dyYW07XG4gICAgaWYgKGdwdSkge1xuICAgICAgZ3B1UHJvZ3JhbSA9IEdwdVByb2dyYW0uZnJvbShncHUpO1xuICAgIH1cbiAgICBpZiAoZ2wpIHtcbiAgICAgIGdsUHJvZ3JhbSA9IEdsUHJvZ3JhbS5mcm9tKGdsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTaGFkZXIoe1xuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRlci5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IFVOSUZPUk1fVFlQRVNfVkFMVUVTID0gW1xuICBcImYzMlwiLFxuICBcImkzMlwiLFxuICBcInZlYzI8ZjMyPlwiLFxuICBcInZlYzM8ZjMyPlwiLFxuICBcInZlYzQ8ZjMyPlwiLFxuICBcIm1hdDJ4MjxmMzI+XCIsXG4gIFwibWF0M3gzPGYzMj5cIixcbiAgXCJtYXQ0eDQ8ZjMyPlwiLFxuICBcIm1hdDN4MjxmMzI+XCIsXG4gIFwibWF0NHgyPGYzMj5cIixcbiAgXCJtYXQyeDM8ZjMyPlwiLFxuICBcIm1hdDR4MzxmMzI+XCIsXG4gIFwibWF0Mng0PGYzMj5cIixcbiAgXCJtYXQzeDQ8ZjMyPlwiXG5dO1xuY29uc3QgVU5JRk9STV9UWVBFU19NQVAgPSBVTklGT1JNX1RZUEVTX1ZBTFVFUy5yZWR1Y2UoKGFjYywgdHlwZSkgPT4ge1xuICBhY2NbdHlwZV0gPSB0cnVlO1xuICByZXR1cm4gYWNjO1xufSwge30pO1xuXG5leHBvcnQgeyBVTklGT1JNX1RZUEVTX01BUCwgVU5JRk9STV9UWVBFU19WQUxVRVMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFVuaWZvcm1WYWx1ZSh0eXBlLCBzaXplKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJmMzJcIjpcbiAgICAgIHJldHVybiAwO1xuICAgIGNhc2UgXCJ2ZWMyPGYzMj5cIjpcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcbiAgICBjYXNlIFwidmVjMzxmMzI+XCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG4gICAgY2FzZSBcInZlYzQ8ZjMyPlwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuICAgIGNhc2UgXCJtYXQyeDI8ZjMyPlwiOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxXG4gICAgICBdKTtcbiAgICBjYXNlIFwibWF0M3gzPGYzMj5cIjpcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMVxuICAgICAgXSk7XG4gICAgY2FzZSBcIm1hdDR4NDxmMzI+XCI6XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDFcbiAgICAgIF0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBnZXREZWZhdWx0VW5pZm9ybVZhbHVlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXREZWZhdWx0VW5pZm9ybVZhbHVlLm1qcy5tYXBcbiIsImltcG9ydCB7IHVpZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvdWlkLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVJZEZyb21TdHJpbmcgfSBmcm9tICcuLi91dGlscy9jcmVhdGVJZEZyb21TdHJpbmcubWpzJztcbmltcG9ydCB7IFVOSUZPUk1fVFlQRVNfTUFQLCBVTklGT1JNX1RZUEVTX1ZBTFVFUyB9IGZyb20gJy4vdHlwZXMubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRVbmlmb3JtVmFsdWUgfSBmcm9tICcuL3V0aWxzL2dldERlZmF1bHRVbmlmb3JtVmFsdWUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfVW5pZm9ybUdyb3VwID0gY2xhc3MgX1VuaWZvcm1Hcm91cCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVW5pZm9ybSBncm91cFxuICAgKiBAcGFyYW0gdW5pZm9ybVN0cnVjdHVyZXMgLSBUaGUgc3RydWN0dXJlcyBvZiB0aGUgdW5pZm9ybSBncm91cFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25hbCBwYXJhbWV0ZXJzIG9mIHRoaXMgdW5pZm9ybSBncm91cFxuICAgKi9cbiAgY29uc3RydWN0b3IodW5pZm9ybVN0cnVjdHVyZXMsIG9wdGlvbnMpIHtcbiAgICAvKiogdXNlZCBpbnRlcm5hbGx5IHRvIGtub3cgaWYgYSB1bmlmb3JtIGdyb3VwIHdhcyB1c2VkIGluIHRoZSBsYXN0IHJlbmRlciBwYXNzICovXG4gICAgdGhpcy5fdG91Y2hlZCA9IDA7XG4gICAgLyoqIGEgdW5pcXVlIGlkIGZvciB0aGlzIHVuaWZvcm0gZ3JvdXAgdXNlZCB0aHJvdWdoIHRoZSByZW5kZXJlciAqL1xuICAgIHRoaXMudWlkID0gdWlkKFwidW5pZm9ybVwiKTtcbiAgICAvKiogYSByZXNvdXJjZSB0eXBlLCB1c2VkIHRvIGlkZW50aWZ5IGhvdyB0byBoYW5kbGUgaXQgd2hlbiBpdHMgaW4gYSBiaW5kIGdyb3VwIC8gc2hhZGVyIHJlc291cmNlICovXG4gICAgdGhpcy5fcmVzb3VyY2VUeXBlID0gXCJ1bmlmb3JtR3JvdXBcIjtcbiAgICAvKiogdGhlIHJlc291cmNlIGlkIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcmVuZGVyZXIgdG8gYnVpbGQgYmluZCBncm91cCBrZXlzICovXG4gICAgdGhpcy5fcmVzb3VyY2VJZCA9IHVpZChcInJlc291cmNlXCIpO1xuICAgIC8qKiB1c2VkIGl0byBpZGVudGlmeSBpZiB0aGlzIGlzIGEgdW5pZm9ybSBncm91cCAqL1xuICAgIHRoaXMuaXNVbmlmb3JtR3JvdXAgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIHVzZWQgdG8gZmxhZyBpZiB0aGlzIFVuaWZvcm0gZ3JvdXBzIGRhdGEgaXMgZGlmZmVyZW50IGZyb20gd2hhdCBpdCBoYXMgc3RvcmVkIGluIGl0cyBidWZmZXIgLyBvbiB0aGUgR1BVXG4gICAgICogQGludGVybmFsXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX2RpcnR5SWQgPSAwO1xuICAgIC8vIGltcGxlbWVudGluZyB0aGUgaW50ZXJmYWNlIC0gVW5pZm9ybUdyb3VwIGFyZSBub3QgZGVzdHJveWVkXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICBvcHRpb25zID0geyAuLi5fVW5pZm9ybUdyb3VwLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy51bmlmb3JtU3RydWN0dXJlcyA9IHVuaWZvcm1TdHJ1Y3R1cmVzO1xuICAgIGNvbnN0IHVuaWZvcm1zID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIHVuaWZvcm1TdHJ1Y3R1cmVzKSB7XG4gICAgICBjb25zdCB1bmlmb3JtRGF0YSA9IHVuaWZvcm1TdHJ1Y3R1cmVzW2ldO1xuICAgICAgdW5pZm9ybURhdGEubmFtZSA9IGk7XG4gICAgICB1bmlmb3JtRGF0YS5zaXplID0gdW5pZm9ybURhdGEuc2l6ZSA/PyAxO1xuICAgICAgaWYgKCFVTklGT1JNX1RZUEVTX01BUFt1bmlmb3JtRGF0YS50eXBlXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaWZvcm0gdHlwZSAke3VuaWZvcm1EYXRhLnR5cGV9IGlzIG5vdCBzdXBwb3J0ZWQuIFN1cHBvcnRlZCB1bmlmb3JtIHR5cGVzIGFyZTogJHtVTklGT1JNX1RZUEVTX1ZBTFVFUy5qb2luKFwiLCBcIil9YCk7XG4gICAgICB9XG4gICAgICB1bmlmb3JtRGF0YS52YWx1ZSA/PyAodW5pZm9ybURhdGEudmFsdWUgPSBnZXREZWZhdWx0VW5pZm9ybVZhbHVlKHVuaWZvcm1EYXRhLnR5cGUsIHVuaWZvcm1EYXRhLnNpemUpKTtcbiAgICAgIHVuaWZvcm1zW2ldID0gdW5pZm9ybURhdGEudmFsdWU7XG4gICAgfVxuICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICB0aGlzLl9kaXJ0eUlkID0gMTtcbiAgICB0aGlzLnVibyA9IG9wdGlvbnMudWJvO1xuICAgIHRoaXMuaXNTdGF0aWMgPSBvcHRpb25zLmlzU3RhdGljO1xuICAgIHRoaXMuX3NpZ25hdHVyZSA9IGNyZWF0ZUlkRnJvbVN0cmluZyhPYmplY3Qua2V5cyh1bmlmb3JtcykubWFwKFxuICAgICAgKGkpID0+IGAke2l9LSR7dW5pZm9ybVN0cnVjdHVyZXNbaV0udHlwZX1gXG4gICAgKS5qb2luKFwiLVwiKSwgXCJ1bmlmb3JtLWdyb3VwXCIpO1xuICB9XG4gIC8qKiBDYWxsIHRoaXMgaWYgeW91IHdhbnQgdGhlIHVuaWZvcm0gZ3JvdXBzIGRhdGEgdG8gYmUgdXBsb2FkZWQgdG8gdGhlIEdQVSBvbmx5IHVzZWZ1bCBpZiBgaXNTdGF0aWNgIGlzIHRydWUuICovXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9kaXJ0eUlkKys7XG4gIH1cbn07XG4vKiogVGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSB1bmlmb3JtIGdyb3VwLiAqL1xuX1VuaWZvcm1Hcm91cC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIGlmIHRydWUgdGhlIFVuaWZvcm1Hcm91cCBpcyBoYW5kbGVkIGFzIGFuIFVuaWZvcm0gYnVmZmVyIG9iamVjdC4gKi9cbiAgdWJvOiBmYWxzZSxcbiAgLyoqIGlmIHRydWUsIHRoZW4geW91IGFyZSByZXNwb25zaWJsZSBmb3Igd2hlbiB0aGUgZGF0YSBpcyB1cGxvYWRlZCB0byB0aGUgR1BVIGJ5IGNhbGxpbmcgYHVwZGF0ZSgpYCAqL1xuICBpc1N0YXRpYzogZmFsc2Vcbn07XG5sZXQgVW5pZm9ybUdyb3VwID0gX1VuaWZvcm1Hcm91cDtcblxuZXhwb3J0IHsgVW5pZm9ybUdyb3VwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vbmlmb3JtR3JvdXAubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBibGVuZE1vZGVJZHMgPSB7XG4gIG5vcm1hbDogMCxcbiAgYWRkOiAxLFxuICBtdWx0aXBseTogMixcbiAgc2NyZWVuOiAzLFxuICBvdmVybGF5OiA0LFxuICBlcmFzZTogNSxcbiAgXCJub3JtYWwtbnBtXCI6IDYsXG4gIFwiYWRkLW5wbVwiOiA3LFxuICBcInNjcmVlbi1ucG1cIjogOFxufTtcbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5jb25zdCBERVBUSF9NQVNLID0gNTtcbmNvbnN0IF9TdGF0ZSA9IGNsYXNzIF9TdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgdGhpcy5kZXB0aE1hc2sgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlcy5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGJsZW5kKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKTtcbiAgfVxuICBzZXQgYmxlbmQodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBCTEVORDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgb2Zmc2V0cygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpO1xuICB9XG4gIHNldCBvZmZzZXRzKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IE9GRlNFVDtcbiAgICB9XG4gIH1cbiAgLyoqIFRoZSBjdWxsaW5nIHNldHRpbmdzIGZvciB0aGlzIHN0YXRlIG5vbmUgLSBObyBjdWxsaW5nIGJhY2sgLSBCYWNrIGZhY2UgY3VsbGluZyBmcm9udCAtIEZyb250IGZhY2UgY3VsbGluZyAqL1xuICBzZXQgY3VsbE1vZGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IFwibm9uZVwiKSB7XG4gICAgICB0aGlzLmN1bGxpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jdWxsaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA9IHZhbHVlID09PSBcImZyb250XCI7XG4gIH1cbiAgZ2V0IGN1bGxNb2RlKCkge1xuICAgIGlmICghdGhpcy5jdWxsaW5nKSB7XG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA/IFwiZnJvbnRcIiA6IFwiYmFja1wiO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjdWxsaW5nKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpO1xuICB9XG4gIHNldCBjdWxsaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBDVUxMSU5HO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgZGVwdGhUZXN0KCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpO1xuICB9XG4gIHNldCBkZXB0aFRlc3QodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX1RFU1Q7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHdyaXRpbmcgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGRlcHRoTWFzaygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKTtcbiAgfVxuICBzZXQgZGVwdGhNYXNrKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9NQVNLO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgY2xvY2t3aXNlRnJvbnRGYWNlKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpO1xuICB9XG4gIHNldCBjbG9ja3dpc2VGcm9udEZhY2UodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IFdJTkRJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYG5vcm1hbGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICogQGRlZmF1bHQgJ25vcm1hbCdcbiAgICovXG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgfVxuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5ibGVuZCA9IHZhbHVlICE9PSBcIm5vbmVcIjtcbiAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB0aGlzLl9ibGVuZE1vZGVJZCA9IGJsZW5kTW9kZUlkc1t2YWx1ZV0gfHwgMDtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgZ2V0IHBvbHlnb25PZmZzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG4gIH1cbiAgc2V0IHBvbHlnb25PZmZzZXQodmFsdWUpIHtcbiAgICB0aGlzLm9mZnNldHMgPSAhIXZhbHVlO1xuICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtwaXhpLmpzL2NvcmU6U3RhdGUgYmxlbmRNb2RlPSR7dGhpcy5ibGVuZE1vZGV9IGNsb2Nrd2lzZUZyb250RmFjZT0ke3RoaXMuY2xvY2t3aXNlRnJvbnRGYWNlfSBjdWxsaW5nPSR7dGhpcy5jdWxsaW5nfSBkZXB0aE1hc2s9JHt0aGlzLmRlcHRoTWFza30gcG9seWdvbk9mZnNldD0ke3RoaXMucG9seWdvbk9mZnNldH1dYDtcbiAgfVxuICAvKipcbiAgICogQSBxdWlja2x5IGdldHRpbmcgYW4gaW5zdGFuY2Ugb2YgYSBTdGF0ZSB0aGF0IGlzIGNvbmZpZ3VyZWQgZm9yIDJkIHJlbmRlcmluZy5cbiAgICogQHJldHVybnMgYSBuZXcgU3RhdGUgd2l0aCB2YWx1ZXMgc2V0IGZvciAyZCByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBmb3IyZCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG5ldyBfU3RhdGUoKTtcbiAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuX1N0YXRlLmRlZmF1bHQyZCA9IF9TdGF0ZS5mb3IyZCgpO1xubGV0IFN0YXRlID0gX1N0YXRlO1xuXG5leHBvcnQgeyBTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgbmV4dFBvdzIgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9taXNjL3BvdzIubWpzJztcbmltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4vVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBjb3VudCA9IDA7XG5jbGFzcyBUZXh0dXJlUG9vbENsYXNzIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB0ZXh0dXJlT3B0aW9ucyAtIG9wdGlvbnMgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byBCYXNlUmVuZGVyVGV4dHVyZSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge1NDQUxFX01PREV9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBTQ0FMRV9NT0RFfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgKi9cbiAgY29uc3RydWN0b3IodGV4dHVyZU9wdGlvbnMpIHtcbiAgICB0aGlzLl9wb29sS2V5SGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX3RleHR1cmVQb29sID0ge307XG4gICAgdGhpcy50ZXh0dXJlT3B0aW9ucyA9IHRleHR1cmVPcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yLlxuICAgKiBAcGFyYW0gcGl4ZWxXaWR0aCAtIFdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0gcGl4ZWxIZWlnaHQgLSBIZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHMuXG4gICAqIEBwYXJhbSBhbnRpYWxpYXNcbiAgICovXG4gIGNyZWF0ZVRleHR1cmUocGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQsIGFudGlhbGlhcykge1xuICAgIGNvbnN0IHRleHR1cmVTb3VyY2UgPSBuZXcgVGV4dHVyZVNvdXJjZSh7XG4gICAgICAuLi50aGlzLnRleHR1cmVPcHRpb25zLFxuICAgICAgd2lkdGg6IHBpeGVsV2lkdGgsXG4gICAgICBoZWlnaHQ6IHBpeGVsSGVpZ2h0LFxuICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgIGFudGlhbGlhcyxcbiAgICAgIGF1dG9HYXJiYWdlQ29sbGVjdDogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBuZXcgVGV4dHVyZSh7XG4gICAgICBzb3VyY2U6IHRleHR1cmVTb3VyY2UsXG4gICAgICBsYWJlbDogYHRleHR1cmVQb29sXyR7Y291bnQrK31gXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAqIEBwYXJhbSBmcmFtZVdpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gZnJhbWVIZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIGFudGlhbGlhc1xuICAgKiBAcmV0dXJucyBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgKi9cbiAgZ2V0T3B0aW1hbFRleHR1cmUoZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQsIHJlc29sdXRpb24gPSAxLCBhbnRpYWxpYXMpIHtcbiAgICBsZXQgcG8yV2lkdGggPSBNYXRoLmNlaWwoZnJhbWVXaWR0aCAqIHJlc29sdXRpb24gLSAxZS02KTtcbiAgICBsZXQgcG8ySGVpZ2h0ID0gTWF0aC5jZWlsKGZyYW1lSGVpZ2h0ICogcmVzb2x1dGlvbiAtIDFlLTYpO1xuICAgIHBvMldpZHRoID0gbmV4dFBvdzIocG8yV2lkdGgpO1xuICAgIHBvMkhlaWdodCA9IG5leHRQb3cyKHBvMkhlaWdodCk7XG4gICAgY29uc3Qga2V5ID0gKHBvMldpZHRoIDw8IDE3KSArIChwbzJIZWlnaHQgPDwgMSkgKyAoYW50aWFsaWFzID8gMSA6IDApO1xuICAgIGlmICghdGhpcy5fdGV4dHVyZVBvb2xba2V5XSkge1xuICAgICAgdGhpcy5fdGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgIH1cbiAgICBsZXQgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVQb29sW2tleV0ucG9wKCk7XG4gICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICB0ZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKHBvMldpZHRoLCBwbzJIZWlnaHQsIGFudGlhbGlhcyk7XG4gICAgfVxuICAgIHRleHR1cmUuc291cmNlLl9yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICB0ZXh0dXJlLnNvdXJjZS53aWR0aCA9IHBvMldpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICB0ZXh0dXJlLnNvdXJjZS5oZWlnaHQgPSBwbzJIZWlnaHQgLyByZXNvbHV0aW9uO1xuICAgIHRleHR1cmUuc291cmNlLnBpeGVsV2lkdGggPSBwbzJXaWR0aDtcbiAgICB0ZXh0dXJlLnNvdXJjZS5waXhlbEhlaWdodCA9IHBvMkhlaWdodDtcbiAgICB0ZXh0dXJlLmZyYW1lLnggPSAwO1xuICAgIHRleHR1cmUuZnJhbWUueSA9IDA7XG4gICAgdGV4dHVyZS5mcmFtZS53aWR0aCA9IGZyYW1lV2lkdGg7XG4gICAgdGV4dHVyZS5mcmFtZS5oZWlnaHQgPSBmcmFtZUhlaWdodDtcbiAgICB0ZXh0dXJlLnVwZGF0ZVV2cygpO1xuICAgIHRoaXMuX3Bvb2xLZXlIYXNoW3RleHR1cmUudWlkXSA9IGtleTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIGNoZWNrIHdoYXQgc2l6ZSBpdCBpcy5cbiAgICogQHBhcmFtIGFudGlhbGlhcyAtIFdoZXRoZXIgdG8gdXNlIGFudGlhbGlhcy5cbiAgICogQHJldHVybnMgQSB0ZXh0dXJlIHRoYXQgaXMgYSBwb3dlciBvZiB0d29cbiAgICovXG4gIGdldFNhbWVTaXplVGV4dHVyZSh0ZXh0dXJlLCBhbnRpYWxpYXMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRleHR1cmUuc291cmNlO1xuICAgIHJldHVybiB0aGlzLmdldE9wdGltYWxUZXh0dXJlKHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCBzb3VyY2UuX3Jlc29sdXRpb24sIGFudGlhbGlhcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBsYWNlIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKiBAcGFyYW0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICovXG4gIHJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSkge1xuICAgIGNvbnN0IGtleSA9IHRoaXMuX3Bvb2xLZXlIYXNoW3JlbmRlclRleHR1cmUudWlkXTtcbiAgICB0aGlzLl90ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcG9vbC5cbiAgICogQHBhcmFtIGRlc3Ryb3lUZXh0dXJlcyAtIERlc3Ryb3kgYWxsIHN0b3JlZCB0ZXh0dXJlcy5cbiAgICovXG4gIGNsZWFyKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlcykge1xuICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuX3RleHR1cmVQb29sKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy5fdGV4dHVyZVBvb2xbaV07XG4gICAgICAgIGlmICh0ZXh0dXJlcykge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3RleHR1cmVQb29sID0ge307XG4gIH1cbn1cbmNvbnN0IFRleHR1cmVQb29sID0gbmV3IFRleHR1cmVQb29sQ2xhc3MoKTtcblxuZXhwb3J0IHsgVGV4dHVyZVBvb2wsIFRleHR1cmVQb29sQ2xhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVQb29sLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgaWRDb3VudHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGlkSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gY3JlYXRlSWRGcm9tU3RyaW5nKHZhbHVlLCBncm91cElkKSB7XG4gIGxldCBpZCA9IGlkSGFzaFt2YWx1ZV07XG4gIGlmIChpZCA9PT0gdm9pZCAwKSB7XG4gICAgaWYgKGlkQ291bnRzW2dyb3VwSWRdID09PSB2b2lkIDApIHtcbiAgICAgIGlkQ291bnRzW2dyb3VwSWRdID0gMTtcbiAgICB9XG4gICAgaWRIYXNoW3ZhbHVlXSA9IGlkID0gaWRDb3VudHNbZ3JvdXBJZF0rKztcbiAgfVxuICByZXR1cm4gaWQ7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUlkRnJvbVN0cmluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlSWRGcm9tU3RyaW5nLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIFJlbmRlcmVyVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFJlbmRlcmVyVHlwZTIpID0+IHtcbiAgUmVuZGVyZXJUeXBlMltSZW5kZXJlclR5cGUyW1wiV0VCR0xcIl0gPSAxXSA9IFwiV0VCR0xcIjtcbiAgUmVuZGVyZXJUeXBlMltSZW5kZXJlclR5cGUyW1wiV0VCR1BVXCJdID0gMl0gPSBcIldFQkdQVVwiO1xuICBSZW5kZXJlclR5cGUyW1JlbmRlcmVyVHlwZTJbXCJCT1RIXCJdID0gM10gPSBcIkJPVEhcIjtcbiAgcmV0dXJuIFJlbmRlcmVyVHlwZTI7XG59KShSZW5kZXJlclR5cGUgfHwge30pO1xuXG5leHBvcnQgeyBSZW5kZXJlclR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY29sb3JUb1VuaWZvcm0ocmdiLCBhbHBoYSwgb3V0LCBvZmZzZXQpIHtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgPj4gMTYgJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiA+PiA4ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gYWxwaGE7XG59XG5mdW5jdGlvbiBjb2xvcjMyQml0VG9Vbmlmb3JtKGFiZ3IsIG91dCwgb2Zmc2V0KSB7XG4gIGNvbnN0IGFscGhhID0gKGFiZ3IgPj4gMjQgJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgJiAyNTUpIC8gMjU1ICogYWxwaGE7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciA+PiA4ICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgPj4gMTYgJiAyNTUpIC8gMjU1ICogYWxwaGE7XG4gIG91dFtvZmZzZXQrK10gPSBhbHBoYTtcbn1cblxuZXhwb3J0IHsgY29sb3IzMkJpdFRvVW5pZm9ybSwgY29sb3JUb1VuaWZvcm0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yVG9Vbmlmb3JtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2hhYmxlU3ByaXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gYmF0Y2ggc3BlY2lmaWMuLlxuICAgIHRoaXMudmVydGV4U2l6ZSA9IDQ7XG4gICAgdGhpcy5pbmRleFNpemUgPSA2O1xuICAgIHRoaXMubG9jYXRpb24gPSAwO1xuICAgIC8vIGxvY2F0aW9uIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLmJhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSAwO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cEJsZW5kTW9kZTtcbiAgfVxuICBwYWNrQXR0cmlidXRlcyhmbG9hdDMyVmlldywgdWludDMyVmlldywgaW5kZXgsIHRleHR1cmVJZCkge1xuICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMucmVuZGVyYWJsZTtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIGNvbnN0IHd0ID0gc3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgY29uc3QgdHkgPSB3dC50eTtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmJvdW5kcztcbiAgICBjb25zdCB3MCA9IGJvdW5kcy5tYXhYO1xuICAgIGNvbnN0IHcxID0gYm91bmRzLm1pblg7XG4gICAgY29uc3QgaDAgPSBib3VuZHMubWF4WTtcbiAgICBjb25zdCBoMSA9IGJvdW5kcy5taW5ZO1xuICAgIGNvbnN0IHV2cyA9IHRleHR1cmUudXZzO1xuICAgIGNvbnN0IGFyZ2IgPSBzcHJpdGUuZ3JvdXBDb2xvckFscGhhO1xuICAgIGNvbnN0IHRleHR1cmVJZEFuZFJvdW5kID0gdGV4dHVyZUlkIDw8IDE2IHwgdGhpcy5yb3VuZFBpeGVscyAmIDY1NTM1O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDFdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAyXSA9IHV2cy54MDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDNdID0gdXZzLnkwO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyA0XSA9IGFyZ2I7XG4gICAgdWludDMyVmlld1tpbmRleCArIDVdID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9IGEgKiB3MCArIGMgKiBoMSArIHR4O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgN10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDhdID0gdXZzLngxO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgOV0gPSB1dnMueTE7XG4gICAgdWludDMyVmlld1tpbmRleCArIDEwXSA9IGFyZ2I7XG4gICAgdWludDMyVmlld1tpbmRleCArIDExXSA9IHRleHR1cmVJZEFuZFJvdW5kO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTJdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxM10gPSBkICogaDAgKyBiICogdzAgKyB0eTtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE0XSA9IHV2cy54MjtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHV2cy55MjtcbiAgICB1aW50MzJWaWV3W2luZGV4ICsgMTZdID0gYXJnYjtcbiAgICB1aW50MzJWaWV3W2luZGV4ICsgMTddID0gdGV4dHVyZUlkQW5kUm91bmQ7XG4gICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxOF0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICBmbG9hdDMyVmlld1tpbmRleCArIDE5XSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMjBdID0gdXZzLngzO1xuICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMjFdID0gdXZzLnkzO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyMl0gPSBhcmdiO1xuICAgIHVpbnQzMlZpZXdbaW5kZXggKyAyM10gPSB0ZXh0dXJlSWRBbmRSb3VuZDtcbiAgfVxuICBwYWNrSW5kZXgoaW5kZXhCdWZmZXIsIGluZGV4LCBpbmRpY2VzT2Zmc2V0KSB7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXhdID0gaW5kaWNlc09mZnNldCArIDA7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXggKyAxXSA9IGluZGljZXNPZmZzZXQgKyAxO1xuICAgIGluZGV4QnVmZmVyW2luZGV4ICsgMl0gPSBpbmRpY2VzT2Zmc2V0ICsgMjtcbiAgICBpbmRleEJ1ZmZlcltpbmRleCArIDNdID0gaW5kaWNlc09mZnNldCArIDA7XG4gICAgaW5kZXhCdWZmZXJbaW5kZXggKyA0XSA9IGluZGljZXNPZmZzZXQgKyAyO1xuICAgIGluZGV4QnVmZmVyW2luZGV4ICsgNV0gPSBpbmRpY2VzT2Zmc2V0ICsgMztcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLmJhdGNoID0gbnVsbDtcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVTcHJpdGUubWpzLm1hcFxuIl0sIm5hbWVzIjpbImFkZEJpdHMiLCJzcmNQYXJ0cyIsInBhcnRzIiwibmFtZSIsImkiLCJwYXJ0IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJzYW5pdGlzZWRQYXJ0IiwicmVwbGFjZSIsInB1c2giLCJ3YXJuIiwiZmluZEhvb2tzUngiLCJjb21waWxlSG9va3MiLCJwcm9ncmFtU3JjIiwibWF0Y2giLCJtYXAiLCJob29rIiwiZm9yRWFjaCIsImV4dHJhY3RJbnB1dHMiLCJmcmFnbWVudFNvdXJjZSIsIm91dCIsInJlZ2V4IiwiZXhlYyIsImNvbXBpbGVJbnB1dHMiLCJmcmFnbWVudHMiLCJ0ZW1wbGF0ZSIsInNvcnQiLCJyZXN1bHRzIiwiZnJhZ21lbnQiLCJoZWFkZXIiLCJtYWluSW5wdXQiLCJmaW5hbFN0cmluZyIsImluVmFsdWUiLCJqb2luIiwiY2xlYW5lZFN0cmluZyIsImV4dHJhY3RPdXRwdXRzIiwiaW5qZWN0Qml0cyIsInRlbXBsYXRlU3JjIiwiZnJhZ21lbnRQYXJ0cyIsImxlbmd0aCIsImNhY2hlTWFwIiwiT2JqZWN0IiwiY3JlYXRlIiwiYml0Q2FjaGVNYXAiLCJNYXAiLCJDQUNIRV9VSUQiLCJjb21waWxlSGlnaFNoYWRlckdsIiwiYml0cyIsImNhY2hlSWQiLCJnZW5lcmF0ZUNhY2hlSWQiLCJjb21waWxlQml0cyIsInZlcnRleCIsImhpZ2hGcmFnbWVudCIsImhhcyIsInNldCIsImdldCIsImEiLCJiIiwidmVydGV4UGFydHMiLCJzaGFkZXJCaXQiLCJ2ZXJ0ZXhHUFVUZW1wbGF0ZSIsImZyYWdtZW50R1BVVGVtcGxhdGUiLCJ2ZXJ0ZXhHbFRlbXBsYXRlIiwiZnJhZ21lbnRHbFRlbXBsYXRlIiwiZ2xvYmFsVW5pZm9ybXNCaXQiLCJnbG9iYWxVbmlmb3Jtc0JpdEdsIiwiY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtIiwic291cmNlIiwidmVydGV4RnJhZ21lbnRzIiwiZmlsdGVyIiwidiIsImZyYWdtZW50RnJhZ21lbnRzIiwiY29tcGlsZWRWZXJ0ZXgiLCJpbmRleCIsIm1haW5TdHJ1Y3QiLCJpbmRleE9mIiwibWFpblN0YXJ0IiwidmFsdWUiLCJtYWluRW5kIiwiZXh0cmFjdFZhcmlhYmxlTmFtZSIsImNvbXBpbGVkQ29kZSIsImNvbXBpbGVPdXRwdXRzIiwiY29tcGlsZUlucHV0c0FuZE91dHB1dHMiLCJjb21waWxlSGlnaFNoYWRlciIsIkdwdVByb2dyYW0iLCJmcm9tIiwiZW50cnlQb2ludCIsImNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtIiwiR2xQcm9ncmFtIiwiY29sb3JCaXQiLCJtYWluIiwiY29sb3JCaXRHbCIsInRleHR1cmVCYXRjaEJpdEdwdUNhY2hlIiwiZ2VuZXJhdGVCaW5kaW5nU3JjIiwibWF4VGV4dHVyZXMiLCJzcmMiLCJiaW5kaW5nSW5kZXgiLCJnZW5lcmF0ZVNhbXBsZVNyYyIsImdlbmVyYXRlVGV4dHVyZUJhdGNoQml0IiwiZW5kIiwidGV4dHVyZUJhdGNoQml0R2xDYWNoZSIsImdlbmVyYXRlU2FtcGxlR2xTcmMiLCJnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsIiwibG9jYWxVbmlmb3JtQml0IiwibG9jYWxVbmlmb3JtQml0R3JvdXAyIiwibG9jYWxVbmlmb3JtQml0R2wiLCJyb3VuZFBpeGVsc0JpdCIsInJvdW5kUGl4ZWxzQml0R2wiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZ2wiLCJnZXRUZXN0Q29udGV4dCIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiRlJBR01FTlRfU0hBREVSIiwiSElHSF9GTE9BVCIsInByZWNpc2lvbiIsImZyYWdtZW50TmFtZUNhY2hlIiwiVmVydGV4TmFtZUNhY2hlIiwicHJvY2Vzc2VzIiwic3RyaXBWZXJzaW9uIiwiaXNFUzMwMCIsImVuc3VyZVByZWNpc2lvbiIsIm9wdGlvbnMiLCJpc0ZyYWdtZW50IiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkRnJhZ21lbnRQcmVjaXNpb24iLCJtYXhTdXBwb3J0ZWRWZXJ0ZXhQcmVjaXNpb24iLCJzdWJzdHJpbmciLCJyZXF1ZXN0ZWRGcmFnbWVudFByZWNpc2lvbiIsInJlcXVlc3RlZFZlcnRleFByZWNpc2lvbiIsImFkZFByb2dyYW1EZWZpbmVzIiwic2V0UHJvZ3JhbU5hbWUiLCJuYW1lQ2FjaGUiLCJpbnNlcnRWZXJzaW9uIiwicHJvZ3JhbUNhY2hlIiwiX0dsUHJvZ3JhbSIsImNvbnN0cnVjdG9yIiwiZGVmYXVsdE9wdGlvbnMiLCJwcmVwcm9jZXNzb3JPcHRpb25zIiwicHJlZmVycmVkRnJhZ21lbnRQcmVjaXNpb24iLCJwcmVmZXJyZWRWZXJ0ZXhQcmVjaXNpb24iLCJrZXlzIiwicHJvY2Vzc0tleSIsInByb2Nlc3NPcHRpb25zIiwidGhpcyIsIl9rZXkiLCJjcmVhdGVJZEZyb21TdHJpbmciLCJkZXN0cm95IiwiX2F0dHJpYnV0ZURhdGEiLCJfdW5pZm9ybURhdGEiLCJfdW5pZm9ybUJsb2NrRGF0YSIsInRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MiLCJrZXkiLCJXR1NMX1RPX1ZFUlRFWF9UWVBFUyIsImYzMiIsInZlYzJmIiwidmVjM2YiLCJ2ZWM0ZiIsImkzMiIsInUzMiIsImJvb2wiLCJleHRyYWN0U3RydWN0QW5kR3JvdXBzIiwid2dzbCIsImdyb3VwUGF0dGVybiIsImJpbmRpbmdQYXR0ZXJuIiwibmFtZVBhdHRlcm4iLCJ0eXBlUGF0dGVybiIsInN0cnVjdE1lbWJlclBhdHRlcm4iLCJzdHJ1Y3ROYW1lIiwiZ3JvdXBzIiwiaXRlbSIsImdyb3VwIiwicGFyc2VJbnQiLCJiaW5kaW5nIiwiaXNVbmlmb3JtIiwidHlwZSIsInN0cnVjdHMiLCJzdHJ1Y3QiLCJtZW1iZXJzIiwicmVkdWNlIiwiYWNjIiwibWVtYmVyIiwibmFtZTIiLCJzcGxpdCIsInRyaW0iLCJzb21lIiwiU2hhZGVyU3RhZ2UiLCJTaGFkZXJTdGFnZTIiLCJfbGF5b3V0S2V5IiwibGF5b3V0IiwiZ3B1TGF5b3V0Iiwic3RydWN0c0FuZEdyb3VwcyIsInZlcnRleFN0cnVjdHNBbmRHcm91cHMiLCJmcmFnbWVudFN0cnVjdHNBbmRHcm91cHMiLCJzdHJ1Y3ROYW1lU2V0IiwiU2V0IiwiZHVwZUdyb3VwS2V5U2V0IiwiYWRkIiwicmVtb3ZlU3RydWN0QW5kR3JvdXBEdXBsaWNhdGVzIiwiZ2VuZXJhdGVMYXlvdXRIYXNoIiwidmlzaWJpbGl0eSIsIlZFUlRFWCIsIkZSQUdNRU5UIiwiYnVmZmVyIiwic2FtcGxlciIsInRleHR1cmUiLCJzYW1wbGVUeXBlIiwidmlld0RpbWVuc2lvbiIsIm11bHRpc2FtcGxlZCIsImdlbmVyYXRlR3B1TGF5b3V0R3JvdXBzIiwiYXV0b0Fzc2lnbkdsb2JhbFVuaWZvcm1zIiwiZ2xvYmFsVW5pZm9ybXMiLCJhdXRvQXNzaWduTG9jYWxVbmlmb3JtcyIsImxvY2FsVW5pZm9ybXMiLCJfZ2VuZXJhdGVQcm9ncmFtS2V5IiwiYmlnS2V5IiwiYXR0cmlidXRlRGF0YSIsIm1haW5WZXJ0U3RhcnQiLCJhcnJvd0Z1bmN0aW9uU3RhcnQiLCJmdW5jdGlvbkFyZ3NTdWJzdHJpbmciLCJpbnB1dHNSZWdleCIsImZvcm1hdCIsImxvY2F0aW9uIiwic3RyaWRlIiwiZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQiLCJvZmZzZXQiLCJpbnN0YW5jZSIsInN0YXJ0IiwiZXh0cmFjdEF0dHJpYnV0ZXNGcm9tR3B1UHJvZ3JhbSIsImF0dHJpYnV0ZUZvcm1hdERhdGEiLCJ1aW50OHgyIiwic2l6ZSIsIm5vcm1hbGlzZWQiLCJ1aW50OHg0Iiwic2ludDh4MiIsInNpbnQ4eDQiLCJ1bm9ybTh4MiIsInVub3JtOHg0Iiwic25vcm04eDIiLCJzbm9ybTh4NCIsInVpbnQxNngyIiwidWludDE2eDQiLCJzaW50MTZ4MiIsInNpbnQxNng0IiwidW5vcm0xNngyIiwidW5vcm0xNng0Iiwic25vcm0xNngyIiwic25vcm0xNng0IiwiZmxvYXQxNngyIiwiZmxvYXQxNng0IiwiZmxvYXQzMiIsImZsb2F0MzJ4MiIsImZsb2F0MzJ4MyIsImZsb2F0MzJ4NCIsInVpbnQzMiIsInVpbnQzMngyIiwidWludDMyeDMiLCJ1aW50MzJ4NCIsInNpbnQzMiIsInNpbnQzMngyIiwic2ludDMyeDMiLCJzaW50MzJ4NCIsIlNoYWRlciIsInN1cGVyIiwiX3VuaWZvcm1CaW5kTWFwIiwiX293bmVkQmluZEdyb3VwcyIsImdwdVByb2dyYW0iLCJnbFByb2dyYW0iLCJyZXNvdXJjZXMiLCJjb21wYXRpYmxlUmVuZGVyZXJzIiwiZ3JvdXBNYXAiLCJXRUJHUFUiLCJXRUJHTCIsIm5hbWVIYXNoIiwiRXJyb3IiLCJqIiwidW5pZm9ybU5hbWUiLCJncm91cERhdGEiLCJkYXRhIiwiYmluZFRpY2siLCJfcmVzb3VyY2VUeXBlIiwic2V0UmVzb3VyY2UiLCJfYnVpbGRSZXNvdXJjZUFjY2Vzc29yIiwiYWRkUmVzb3VyY2UiLCJncm91cEluZGV4IiwiYmluZEluZGV4IiwiX2EiLCJfYiIsInVuaWZvcm1zT3V0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRSZXNvdXJjZSIsImRlc3Ryb3lQcm9ncmFtcyIsImVtaXQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJiaW5kR3JvdXAiLCJncHUiLCJyZXN0IiwiVU5JRk9STV9UWVBFU19WQUxVRVMiLCJVTklGT1JNX1RZUEVTX01BUCIsImdldERlZmF1bHRVbmlmb3JtVmFsdWUiLCJGbG9hdDMyQXJyYXkiLCJfVW5pZm9ybUdyb3VwIiwidW5pZm9ybVN0cnVjdHVyZXMiLCJfdG91Y2hlZCIsInVpZCIsIl9yZXNvdXJjZUlkIiwiaXNVbmlmb3JtR3JvdXAiLCJfZGlydHlJZCIsImRlc3Ryb3llZCIsInVuaWZvcm1zIiwidW5pZm9ybURhdGEiLCJ1Ym8iLCJpc1N0YXRpYyIsIl9zaWduYXR1cmUiLCJ1cGRhdGUiLCJVbmlmb3JtR3JvdXAiLCJibGVuZE1vZGVJZHMiLCJub3JtYWwiLCJtdWx0aXBseSIsInNjcmVlbiIsIm92ZXJsYXkiLCJlcmFzZSIsIl9TdGF0ZSIsImJsZW5kTW9kZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImRlcHRoTWFzayIsIm9mZnNldHMiLCJjdWxsTW9kZSIsImN1bGxpbmciLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJkZXB0aFRlc3QiLCJfYmxlbmRNb2RlIiwiX2JsZW5kTW9kZUlkIiwiX3BvbHlnb25PZmZzZXQiLCJ0b1N0cmluZyIsImZvcjJkIiwic3RhdGUiLCJkZWZhdWx0MmQiLCJTdGF0ZSIsImNvdW50IiwiVGV4dHVyZVBvb2wiLCJ0ZXh0dXJlT3B0aW9ucyIsIl9wb29sS2V5SGFzaCIsIl90ZXh0dXJlUG9vbCIsImVuYWJsZUZ1bGxTY3JlZW4iLCJjcmVhdGVUZXh0dXJlIiwicGl4ZWxXaWR0aCIsInBpeGVsSGVpZ2h0IiwiYW50aWFsaWFzIiwidGV4dHVyZVNvdXJjZSIsIndpZHRoIiwiaGVpZ2h0IiwicmVzb2x1dGlvbiIsImF1dG9HYXJiYWdlQ29sbGVjdCIsImxhYmVsIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJwbzJXaWR0aCIsIk1hdGgiLCJjZWlsIiwicG8ySGVpZ2h0IiwicG9wIiwiX3Jlc29sdXRpb24iLCJmcmFtZSIsIngiLCJ5IiwidXBkYXRlVXZzIiwiZ2V0U2FtZVNpemVUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJlbmRlclRleHR1cmUiLCJjbGVhciIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwiaWRDb3VudHMiLCJpZEhhc2giLCJncm91cElkIiwiaWQiLCJSZW5kZXJlclR5cGUiLCJSZW5kZXJlclR5cGUyIiwiY29sb3IzMkJpdFRvVW5pZm9ybSIsImFiZ3IiLCJhbHBoYSIsIkJhdGNoYWJsZVNwcml0ZSIsInZlcnRleFNpemUiLCJpbmRleFNpemUiLCJiYXRjaGVyIiwiYmF0Y2giLCJyb3VuZFBpeGVscyIsInJlbmRlcmFibGUiLCJncm91cEJsZW5kTW9kZSIsInBhY2tBdHRyaWJ1dGVzIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3IiwidGV4dHVyZUlkIiwic3ByaXRlIiwid3QiLCJncm91cFRyYW5zZm9ybSIsImMiLCJkIiwidHgiLCJ0eSIsImJvdW5kcyIsIncwIiwibWF4WCIsIncxIiwibWluWCIsImgwIiwibWF4WSIsImgxIiwibWluWSIsInV2cyIsImFyZ2IiLCJncm91cENvbG9yQWxwaGEiLCJ0ZXh0dXJlSWRBbmRSb3VuZCIsIngwIiwieTAiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwieTMiLCJwYWNrSW5kZXgiLCJpbmRleEJ1ZmZlciIsImluZGljZXNPZmZzZXQiLCJyZXNldCJdLCJzb3VyY2VSb290IjoiIn0=